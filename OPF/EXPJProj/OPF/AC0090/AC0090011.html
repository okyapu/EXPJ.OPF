<%-- ********************************************************
Copyright (c) 2003-2004 NEC Corporation
Copyright (c) 2003-2004 NEC Informatec Systems,Ltd.

外部デマンド紐付けサブ1
$Source: D:/EXPJCVS/EXPJPROJ/expjprsaUV2/EXPJProj/OPF/AC0090/AC0090011.html,v $
$Author: geng-jia $	
$Revision: 1.4 $ $Date: 2017/02/13 02:34:32 $
********************************************************* --%>
<html>
<head>
<title>外部デマンド紐付けサブ1</title>
<%@include file="common/expj_v5.jsp" %>
</head>
<body flash="true" name="AC0090011" version="AC0090011 $Revision: 1.4 $" onLoad="onInitializeOnLoad()" bgcolor="#000000" topmargin="0" bottommargin="0" leftmargin="0" rightmargin="0" widthResize="true" heightResize="2">

  <table width="968" bgcolor="white" class="back" height="590" border="0" cellspacing="0" cellpadding="0">
    <tr height="5"> 
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr height="71"> 
      <td width="5" height="71"></td>
      <td valign="top" width="958"> 
        <table width="958" border="0" cellspacing="0" cellpadding="0">
          <tr height="12"> 
            <td width="12" height="12" class="frame01"></td>
            <td colspan="3" height="12" class="frame02"></td>
            <td width="12" height="12" class="frame03"></td>
          </tr>
          <tr> 
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05"> 
              <table orftype="DataGrid" mode="FORM" name="AC0090011form1" width="934" height="27" border="1" cellspacing="0" cellpadding="0"
                     status="<%= TypeConverter.sanitizer(aAC0090010Control.getReadStatusString()) %>"
                    
                     script1="onLoad;0;CALL;child@0,4"
                     script2="onLoad;1;CALL;onDecision@0,2,3"

                     script3="child;0;CHK;?AC0090011form1/*[neq]NORMAL@*1"
                         script4="child;1;MASK;_AC0090011button2/update_sub1"

                     script5="onDecision;0;CHKRQ;A@*2,*3"
                         script6="child;2;UNMASK;_AC0090011button1/select_sub1"
                         script7="child;3;MASK;_AC0090011button1/select_sub1"

                     script8="onDecision;1;CHK;1[eq]1@*4"
                     script9="child;4;CHKRQ;?AC0090011view1/?[eq]SINGLE@*5"
                         script10="child;5;CHK;?AC0090011form1/*[eq]NORMAL@*6,*9"
                             script11="child;6;CHK;?AC0090011form1/w_subDATE_FROM[eq]SAME@*7,*9"
                             script12="child;7;CHK;?AC0090011form1/w_subDATE_TO[eq]SAME@*8,*9"
                                 script13="child;8;UNMASK;_AC0090011button2/update_sub1"
                                 script14="child;9;MASK;_AC0090011button2/update_sub1"

                     script15="onDecision;2;CHKRQ;?AC0090011view1/?[neq]SINGLE@*10"
                             script16="child;10;MASK;_AC0090011button2/update_sub1"
							 
					 script17="onDecision;3;CHK;_AC0090011form1/TIME_CTRL[eq]true@*11,*12"
					 script18="child;11;UNMASK;_AC0090011form1/w_subTIME_FROM,_AC0090011form1/w_subTIME_TO"
					 script19="child;12;MASK;_AC0090011form1/w_subTIME_FROM,_AC0090011form1/w_subTIME_TO"
              >
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width="170" align="right">&nbsp;</td>
                  <td width="150">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="88">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="150">&nbsp;</td>
                  <td width="20">&nbsp;</td>
                  <td width="150">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="66">&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td required=true><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0420">生産計画期間</span></td>
                  <td><orftextinput  name="w_subDATE_FROM" orteus="true" width="150" required="A" kind="OBT_DATE;TYPE_YMD"></orftextinput></td>
                  <td><orfcalendar  name="Calendarw_subDATE_FROM" value="" pattern="none" orteus="false"
                        width=22
                        attribute="BTS_CALENDAR"
                        script1="onClick;0;CALENDAR;_AC0090011form1/w_subDATE_FROM"></orfcalendar></td>
                  <td><orftextinput name="w_subTIME_FROM" orteus="true" width="88" editable="true" visible="true" password="false" text="" kind="OBT_N;" maxlength="4" required="" attribute=""
></orftextinput></td>
                  <td align="center">〜</td>
                  <td><orftextinput  name="w_subDATE_TO" orteus="true" width="150" required="A" kind="OBT_DATE;TYPE_YMD"></orftextinput></td>
                  <td><orfcalendar  name="Calendarw_subDATE_TO" value="" pattern="none" orteus="false"
                        width=22
                        attribute="BTS_CALENDAR"
                        script1="onClick;0;CALENDAR;_AC0090011form1/w_subDATE_TO"></orfcalendar></td>
                  <td><orftextinput name="w_subTIME_TO" orteus="true" width="88" editable="true" visible="true" password="false" text="" kind="OBT_N;" maxlength="4" required="" attribute=""
></orftextinput></td>
                  <td><orftextinput  name="OD_NO" visible="false" orteus="true"></orftextinput></td>
                  <td><orftextinput  name="MODIFY_COUNT" visible="false" orteus="true"></orftextinput></td>
                  <td><orftextinput name="TIME_CTRL" orteus="true" width="" editable="true" visible="false" password="false" text="" kind="" maxlength="" required="" attribute=""
></orftextinput></td>
                </tr>
                </ornoloop>
              </table></td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr height="32"> 
            <td width="12" class="frame07" height="32"></td>
            <td width="769" class="frame08" height="32"> </td>
            <td width="60" class="frame09" height="32"></td>
            <td width="105" class="frame10" height="32">
            <table orftype="DataGrid" mode="BUTTON" name="AC0090011button1" width="105" height="22" border="1" cellspacing="0" cellpadding="0">
              <orloophead>
              <tr bgcolor="#ccff99">
                  <td width=105>&nbsp;</td>
              </tr>
              </orloophead><ornoloop>
              <tr>
                <td><orfbutton name="select_sub1" value="読込" pattern="select" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnSelect" width="100" height="" lock="0" attribute="" visible=""
 script1="onClick;0;CHK;_AC0090011form1/w_subDATE_FROM[gt]_AC0090011form1/w_subDATE_TO@#AC10007"
 script2="onClick;1;CHK;_AC0090011form1/w_subDATE_FROM[eq]_AC0090011form1/w_subDATE_TO[and]_AC0090011form1/w_subTIME_FROM[neq][and]_AC0090011form1/w_subTIME_TO[neq][and]_AC0090011form1/w_subTIME_FROM[gt]_AC0090011form1/w_subTIME_TO@#AC10007"
 script3="onClick;2;CHK;~LEN(_AC0090011form1/w_subTIME_FROM)[eq]1[or]~LEN(_AC0090011form1/w_subTIME_FROM)[eq]2@#AS00123"
 script4="onClick;3;CHK;~LEN(_AC0090011form1/w_subTIME_TO)[eq]1[or]~LEN(_AC0090011form1/w_subTIME_TO)[eq]2@#AS00120"
 script5="onClick;4;CHK;_AC0090011form1/TIME_CTRL[eq]true[and]~LEN(_AC0090011form1/w_subTIME_FROM)[eq]3@*0"
 script6="onClick;5;CHK;_AC0090011form1/TIME_CTRL[eq]true[and]~LEN(_AC0090011form1/w_subTIME_TO)[eq]3@*1"
 script7="onClick;6;CHK;_AC0090011form1/TIME_CTRL[eq]true[and]~LEN(_AC0090011form1/w_subTIME_FROM)[eq]4@*2"
 script8="onClick;7;CHK;_AC0090011form1/TIME_CTRL[eq]true[and]~LEN(_AC0090011form1/w_subTIME_TO)[eq]4@*5"
 script9="onClick;8;SUBMIT;_AC0090011form1/*,_AC0090011form2/*@AC0090010Servlet"
 script10="child;0;CHK;[{~CHARAT(_AC0090011form1/w_subTIME_FROM:1)}*10+{~CHARAT(_AC0090011form1/w_subTIME_FROM:2)}][gte]60@#AS00121"
 script11="child;1;CHK;[{~CHARAT(_AC0090011form1/w_subTIME_TO:1)}*10+{~CHARAT(_AC0090011form1/w_subTIME_TO:2)}][gte]60@#AS00122"
 script12="child;2;CHK;[{~CHARAT(_AC0090011form1/w_subTIME_FROM:0)}*10+{~CHARAT(_AC0090011form1/w_subTIME_FROM:1)}][gte]24@#AS00121,*3"
 script13="child;3;CHK;_AC0090011form1/TIME_CTRL[eq]true[and]~LEN(_AC0090011form1/w_subTIME_FROM)[eq]4@*4"
 script14="child;4;CHK;[{~CHARAT(_AC0090011form1/w_subTIME_FROM:2)}*10+{~CHARAT(_AC0090011form1/w_subTIME_FROM:3)}][gte]60@#AS00121"
 script15="child;5;CHK;[{~CHARAT(_AC0090011form1/w_subTIME_TO:0)}*10+{~CHARAT(_AC0090011form1/w_subTIME_TO:1)}][gte]24@#AS00122,*6"
 script16="child;6;CHK;_AC0090011form1/TIME_CTRL[eq]true[and]~LEN(_AC0090011form1/w_subTIME_TO)[eq]4@*7"
 script17="child;7;CHK;[{~CHARAT(_AC0090011form1/w_subTIME_TO:2)}*10+{~CHARAT(_AC0090011form1/w_subTIME_TO:3)}][gte]60@#AS00122"
></orfbutton>
                </td>
              </tr>
              </ornoloop>
            </table>
            </td>
            <td width="12" class="frame11" height="32"></td>
          </tr>
        </table>
      </td>
      <td width="5" height="71"></td>
    </tr>

    <tr height="5"> 
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr height="337"> 
      <td width="5" height="337"></td>
      <td valign="top" width="958"> 
        <table width="958" border="0" cellspacing="0" cellpadding="0">
          <tr height="12"> 
            <td width="12" height="12" class="frame01"></td>
            <td colspan="3" height="12" class="frame02"></td>
            <td width="12" height="12" class="frame03"></td>
          </tr>
          <tr height="188"> 
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05"> 
              <table orftype="DataGrid" attribute="DGS_SELECTSINGLE" mode="VIEW" name="AC0090011view1" width="934" height="293" border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td hidden="true">&nbsp;</td>
                  <td width="150"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.JOB_ODR_CD">製番</span></td>
                  <td width="150"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.PARENT_ITEM_CD">親品目番号</span></td>
                  <td width="200"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0450">親品目名</span></td>
                  <td width="115"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ODR_START_DATE">手配着手日</span></td>
                  <td width="115"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.OPR_INST_START_DATE">製造着手日</span></td>
                  <td width="115"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.PRD_DUE_DATE">製造納期</span></td>
                  <td width="100" sorttype="numeric" align="right"><orfdata excell='true'></orfdata><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ODR_QTY">オーダ数</span></td>
                  <td width="100" sorttype="numeric" align="right"><orfdata excell='true'></orfdata><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0451">従属デマンド数</span></td>
                  <td width="100" sorttype="numeric" align="right"><orfdata excell='true'></orfdata><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0330">紐付け可能オーダ残数</span></td>
                  <td hidden="true">&nbsp;</td>
                  <td width="100" align="right"><orfdata excell="true"></orfdata><span orteus="true" mlang="true" mlkind="common" mlname="Expj.PS_UNIT_NUMERATOR_2">（分子）構成単位数</span></td>
                  <td width="100" align="right"><orfdata excell="true"></orfdata><span orteus="true" mlang="true" mlkind="common" mlname="Expj.PS_UNIT_DENOMINATOR_2">（分母）構成単位数</span></td>
                  <td hidden="true">&nbsp;</td>
                </tr>
                </orloophead>
                <orloop>
                <tr>
                  <td><orflabel  name="subMODIFY_COUNT" visible="false" orteus="true"></orflabel></td>
                  <td><orflabel  name="subJOB_ODR_CD"   orteus="true"></orflabel></td>
                  <td><orflabel  name="subITEM_CD"   orteus="true"></orflabel></td>
                  <td><orflabel  name="subITEM_NAME"   orteus="true"></orflabel></td>
                  <td><orflabel  name="subODR_START_DATE" orteus="true"></orflabel></td>
                  <td><orflabel  name="subPRD_START_DATE" orteus="true"></orflabel></td>
                  <td><orflabel  name="subPRD_DUE_DATE" orteus="true"></orflabel></td>
                  <td><orflabel  name="subODR_QTY" kind="OBT_NUMBER_Z;14.1;FLOOR;4" orteus="true"></orflabel></td>
                  <td><orflabel  name="subSU_DM_QTY" kind="OBT_NUMBER_Z;14.1;FLOOR;4" orteus="true"></orflabel></td>
                  <td><orflabel  name="subRE_ODR_QTY" kind="OBT_NUMBER_Z;14.1;FLOOR;4" orteus="true"></orflabel></td>
                  <td><orflabel  name="CP_UNIT"   orteus="true"></orflabel></td>
                  <td><orflabel  name="subPS_UNIT_NUMERATOR" kind="OBT_NUMBER_Z;14.1;FLOOR;4" tablename="M_PS" columnname="PS_UNIT_NUMERATOR" orteus="true"></orflabel></td>
                  <td><orflabel  name="subPS_UNIT_DENOMINATOR" kind="OBT_NUMBER_Z;14.1;FLOOR;4" tablename="M_PS" columnname="PS_UNIT_DENOMINATOR" orteus="true"></orflabel></td>
                  <td><orflabel  name="subOD_NO" orteus="true"></orflabel></td>
                </tr>
                </orloop>
              </table></td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr height="32"> 
            <td width="12" class="frame15" height="32"></td>
            <td width="105" class="frame10" height="32">
            <table orftype="DataGrid" mode="BUTTON" name="AC0090011button2" width="105" height="22" border="1" cellspacing="0" cellpadding="0">
              <orloophead>
              <tr bgcolor="#ccff99">
                <td width="105">&nbsp;</td>
              </tr>
              </orloophead><ornoloop>
              <tr>
                <td><orfbutton name="update_sub1" value="登録" pattern="insert" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnInsert" width="100" height="" lock="1" attribute="" visible=""
 script1="onClick;0;CHK;_AC0090011form2/w_subDM_QTY[gt]_AC0090011view1/subRE_ODR_QTY@*0,*1"
 script2="child;0;SCRCHG;_AC0090011form1/*,_AC0090011form2/*,_AC0090011view1/+@AC0090010Servlet,,$AC90007"
 script3="child;1;CHK;_AC0090011form2/w_subDM_QTY[lt]_AC0090011view1/subRE_ODR_QTY@*2,*3"
 script4="child;2;SCRCHG;_AC0090011form1/*,_AC0090011form2/*,_AC0090011view1/+@AC0090010Servlet,,$AC90008"
 script5="child;3;SCRCHG;_AC0090011form1/*,_AC0090011form2/*,_AC0090011view1/+@AC0090010Servlet,,$ZZ07001"
></orfbutton>
                </td>
              </tr>
              </ornoloop>
            </table> 
            </td>
            <td width="60" class="frame16" height="32"></td>
            <td width="769" class="frame08" height="32">　 </td>
            <td width="12" class="frame17" height="32"></td>
          </tr>
        </table>
      </td>
      <td width="5" height="337"></td>
    </tr>

    <tr height="5"> 
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr height="120"> 
      <td width="5" height="120"></td>
      <td valign="top" width="958" height="120"> 
        <table width="958" border="0" cellspacing="0" cellpadding="0">
          <tr height="12"> 
            <td width="12" height="12" class="frame01"></td>
            <td colspan="3" height="12" class="frame02"></td>
            <td width="12" height="12" class="frame03"></td>
          </tr>
          <tr> 
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05"> 
              <table orftype="DataGrid" mode="FORM" name="AC0090011form2" width="934" height="96" border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width="170" align="right">&nbsp;</td>
                  <td width="150">&nbsp;</td>
                  <td width="88">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="170" align="right">&nbsp;</td>
                  <td width="150">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="88">&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.LIMIT">納期</span></td>
                  <td><orftextinput  name="w_subDUE_DATE" editable="false" orteus="true" width="150"></orftextinput></td>
                  <td><orftextinput name="w_subDUE_TIME" orteus="true" width="110" editable="false" visible="true" password="false" text="" kind="" maxlength="5" required="" attribute=""
></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0447">外部デマンド数</span></td>
                  <td><orftextinput  name="w_subDM_QTY" editable="false" attribute="TIS_RIGHT" orteus="true" width="150" kind="OBT_NUMBER_Z;14.1;FLOOR;4"></orftextinput></td>
                  <td><orftextinput  name="STOCK_UNIT" tablename="M_ITEM" columnname="STOCK_UNIT" orteus="true" width="110" editable="false"></orftextinput></td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_CD">品目番号</span></td>
                  <td><orftextinput  name="w_subITEM_CD" editable="false" orteus="true" width="260"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="w_subITEM_NAME" editable="false" orteus="true" width="320"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0434">外部計画番号</span></td>
                  <td><orftextinput  name="w_subEXTERNAL_PLAN_CD" editable="false" orteus="true" width="260"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ISSUE_PLANT_CD">工場コード</span></td>
                  <td><orftextinput  name="w_subPLANT_CD" editable="false" orteus="true" width="260"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="w_subPLANT_NAME" editable="false" orteus="true" width="320"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                </ornoloop>
              </table></td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr height="12"> 
            <td width="12" height="12" class="frame18"></td>
            <td colspan="3" height="12" class="frame19"></td>
            <td width="12" height="12" class="frame20"></td>
          </tr>
        </table>
      </td>
      <td width="5" height="120"></td>
    </tr>
    <tr height="5"> 
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr height="42"> 
      <td colspan="3" width="968" height="42" class="under"> 
        <table width="968" border="0">
          <tr> 
            <td align="left" width="863"></td>
            <td align="right" width="105"> 
              <table orftype="DataGrid" mode="BUTTON" name="AC0090011button0" width="105" height="22" border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width=105>&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td><orfbutton  name="return_sub1" value="戻る" pattern="none" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnReturn"
                        width="100"
                        script1="onClick;0;SCRCHG;@AC0090010Servlet,,$ZZ07013"></orfbutton>
                  </td>
                </tr>
                </ornoloop>
              </table></td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

<%
MessageStruct msgStruct = aAC0090010Control.getMessage();
%>
<%@include file="common/SetServerMessage.jsp" %>
</body>
</html>
