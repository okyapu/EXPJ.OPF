<%-- ********************************************************
Copyright (c) 2003-2004 NEC Corporation
Copyright (c) 2003-2004 NEC Informatec Systems,Ltd.

製品構成コピー登録
$Source: D:/EXPJCVS/EXPJPROJ/expjprsaUV2/EXPJProj/OPF/AA0180/AA0180020.html,v $
$Author: geng-jia $    
$Revision: 1.3 $ $Date: 2017/02/13 02:29:12 $
********************************************************* --%>
<html>
<head>
<title>製品構成コピー登録</title>
<%@include file="common/expj_v5.jsp" %>
</head>
<body flash="true" name="AA0180020" version="AA0180020 $Revision: 1.3 $" onLoad="onInitializeOnLoad()" bgcolor="#000000" topmargin="0" bottommargin="0" leftmargin="0" rightmargin="0" widthResize="true" heightResize="2">

  <table width="968" bgcolor="white" class="back" height="590" border="0" cellspacing="0" cellpadding="0">
    <tr height="5"> 
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr height="117"> 
      <td width="5" height="117"></td>
      <td valign="top" width="958"> 
        <table width="958" border="0" cellspacing="0" cellpadding="0">
          <tr height="12"> 
            <td width="12" height="12" class="frame01"></td>
            <td colspan="3" height="12" class="frame02"></td>
            <td width="12" height="12" class="frame03"></td>
          </tr>
          <tr> 
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05"> 
              <table orftype="DataGrid" mode="FORM" name="AA0180020form1" width="934" height="73" border="1" cellspacing="0" cellpadding="0"
                   script1="onLoad;0;CALL;onDecision@0,1,2"
                   script2="onDecision;0;CHKRQ;A[or]B@*0,*1"
                   script3="child;0;UNMASK;_AA0180020button1/Select"
                   script4="child;1;MASK;_AA0180020button1/Select"
                   script5="onDecision;1;CHK;?AA0180020view3/*[eq]NORMAL[and]?AA0180020form1/FrUp_ITEM_CD[eq]SAME[and]?AA0180020form1/TargetDate[eq]SAME[and]?AA0180020form1/DEVELOP_TYP[eq]SAME@*2,*3"
                   script6="child;2;UNMASK;_AA0180020button2/CheckAll,_AA0180020button2/CheckClear"
                   script7="child;3;MASK;_AA0180020button2/CheckAll,_AA0180020button2/CheckClear"
                   script8="onDecision;2;CHKRQ;A,B,?AA0180020view3/?[neq]NOT_SELECTED@*4,*6"
                   script9="child;4;CHK;?AA0180020view3/*[eq]NORMAL[and]?AA0180020form1/FrUp_ITEM_CD[eq]SAME[and]?AA0180020form1/ToUp_ITEM_CD[eq]SAME[and]?AA0180020form1/TargetDate[eq]SAME[and]?AA0180020form1/DEVELOP_TYP[eq]SAME@*5,*6"
                   script10="child;5;UNMASK;_AA0180020button2/Update"
                   script11="child;6;MASK;_AA0180020button2/Update">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width=170 align=right>&nbsp;</td>
                  <td width=150 align=left>&nbsp;</td>
                  <td width=22 align=left>&nbsp;</td>
                  <td width=88 align=left>&nbsp;</td>
                  <td width=22 align=left>&nbsp;</td>
                  <td width=170 align=left>&nbsp;</td>
                  <td width=150 align=left>&nbsp;</td>
                  <td width=22 align=left>&nbsp;</td>
                  <td width=88 align=left>&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td required=true>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_CD_7">コピー元品目番号</span></td>
                  <td><orftextinput  name="FrUp_ITEM_CD" tablename="M_ITEM" columnname="ITEM_CD" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目番号" orteus="true" width="260" maxlength="25" required="A"></orftextinput></td>
                  <td><orftextinput  name="h_FrUp_ITEM_CD" tablename="M_ITEM" columnname="ITEM_CD" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目番号" orteus="true" visible="false"
                       script1="onLoad;0;CALL;child@0"
                       script2="child;0;CHK;_THIS[eq]@*1,*2"
                       script3="child;1;UNMASK;_FrUp_ITEM_CD,_PeekerFrUpItemCd"
                       script4="child;2;MASK;_FrUp_ITEM_CD,_PeekerFrUpItemCd"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td><orfpeeker  name="PeekerFrUpItemCd" value="" pattern="select" orteus="false" width="22" 
                       attribute="BTS_PEEKER" 
                       script1="onClick;0;PEEKER;_AA0180020form1/FrUp_ITEM_CD@<%=contextNo%>" sqlname="ITEM_CD_01" 
                       sqlparam_1="_AA0180020form1/FrUp_ITEM_CD"></orfpeeker></td>
                  <td><orftextinput  name="FrUp_ITEM_NAME" tablename="M_ITEM" columnname="ITEM_NAME" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目名"   orteus="true" width="320" editable="false"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td required=true>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_CD_8">コピー先品目番号</span></td>
                  <td><orftextinput  name="ToUp_ITEM_CD" tablename="M_ITEM" columnname="ITEM_CD" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目番号" orteus="true" width="260" maxlength="25" required="B"></orftextinput></td>
                  <td><orftextinput  name="h_ToUp_ITEM_CD" tablename="M_ITEM" columnname="ITEM_CD" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目番号" orteus="true" visible="false"
                       script1="onLoad;0;CALL;child@0"
                       script2="child;0;CHK;_THIS[eq]@*1,*2"
                       script3="child;1;UNMASK;_ToUp_ITEM_CD,_PeekerToUpItemCd"
                       script4="child;2;MASK;_ToUp_ITEM_CD,_PeekerToUpItemCd"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td><orfpeeker  name="PeekerToUpItemCd" value="" pattern="select" orteus="false" width="22" 
                       attribute="BTS_PEEKER" 
                       script1="onClick;0;PEEKER;_AA0180020form1/ToUp_ITEM_CD@<%=contextNo%>" sqlname="ITEM_CD_01" 
                       sqlparam_1="_ToUp_ITEM_CD"></orfpeeker></td>
                  <td><orftextinput  name="ToUp_ITEM_NAME" tablename="M_ITEM" columnname="ITEM_NAME" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目名"   orteus="true" width="320" editable="false"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.EFF_PHASE_IN_DATE_3">対象日付</span></td>
                  <td><orftextinput  name="TargetDate" orteus="true" width="150" kind="OBT_DATE;TYPE_YMD"></orftextinput></td>
                  <td><orfcalendar  name="CalendarTargetDate" value="" pattern="select" orteus="false" width="22" 
                       attribute="BTS_CALENDAR" 
                       script1="onClick;0;CALENDAR;_AA0180020form1/TargetDate"></orfcalendar></td>
                  <td><orftextinput  name="h_TargetDate" orteus="true" visible="false"
                       script1="onLoad;0;CALL;child@0"
                       script2="child;0;CHK;_THIS[eq]@*1,*2"
                       script3="child;1;UNMASK;_TargetDate,_CalendarTargetDate"
                       script4="child;2;MASK;_TargetDate,_CalendarTargetDate"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td align=right>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0017">展開区分</span></td>
                  <td><orfcombobox  name="DEVELOP_TYP" orteus="true" width="260"></orfcombobox></td>
                  <td><orftextinput  name="h_DEVELOP_TYP" orteus="true" visible="false"
                       script1="onLoad;0;CALL;child@0"
                       script2="child;0;CHK;_THIS[eq]@*1,*2"
                       script3="child;1;UNMASK;_DEVELOP_TYP"
                       script4="child;2;MASK;_DEVELOP_TYP"></orftextinput></td>
                  <td>&nbsp;</td>
                </tr>
                </ornoloop>
              </table>
            </td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr height="32">
            <td width="12" class="frame07" height="32"></td>
            <td width="769" class="frame08" height="32"></td>
            <td width="60" class="frame09" height="32"></td>
            <td width="105" class="frame10" height="32">
              <table orftype="DataGrid" mode="BUTTON" name="AA0180020button1" width="105" height="22" 
                   border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width=105>&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td><orfbutton  name="Select" value="読込" pattern="select" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" 
                       mlname="Expj.BtnSelect" width="100" 
                       script1="onClick;0;SUBMIT;_AA0180020form1/*@AA0180020Servlet" lock="0"></orfbutton></td>
                </tr>
                </ornoloop>
              </table>
            </td>
            <td width="12" class="frame11" height="32"></td>
          </tr>
        </table>
      </td>
      <td width="5" height="117"></td>
    </tr>
    <tr height="5"> 
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr height="416"> 
      <td width="5" height="416"></td>
      <td valign="top" width="958" height="416"> 
        <table width="958" border="0" cellspacing="0" cellpadding="0" multitr="4">
          <tr height="12"> 
            <td width="12" height="12" class="frame01"></td>
            <td colspan="3" height="12" class="frame02"></td>
            <td width="12" height="12" class="frame03"></td>
            <td width="4" height="12"></td>
            <td width="12" height="12" class="frame01"></td>
            <td colspan="3" height="12" class="frame02"></td>
            <td width="12" height="12" class="frame03"></td>
          </tr>
          <tr>
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05">
              <table orftype="DataGrid" mode="VIEW" attribute="DGS_HEADERONLY" 
                   name="AA0180020view1" width="453" height="23" border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width=453>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0224">コピー元既存構成</span></td>
                </tr>
                </orloophead>
              </table>
            </td>
            <td width="12" class="frame06"></td>
            <td width="4" height="12"></td>
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05">
              <table orftype="DataGrid" mode="VIEW" attribute="DGS_HEADERONLY" 
                   name="AA0180020view2" width="453" height="23" border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width=453>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0225">コピー先既存構成</span></td>
                </tr>
                </orloophead>
              </table>
            </td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr> 
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05">
              <table orftype="DataGrid" name="AA0180020view3" mode="VIEW" attribute="DGS_SELECTMULTI" 
                   status="<%= TypeConverter.sanitizer(aAA0180020Control.getReadStatusString()) %>" 
                   width="453" height="349" border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width=116>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_CD">品目番号</span></td>
                  <td width=35>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.PS_EDITION_3">版数</span></td>
                  <td width=148>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_NAME">品目名</span></td>
                  <td width=75>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.EFF_PHASE_IN_DATE_4">有効開始日</span></td>
                  <td width=75>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.EFF_PHASE_OUT_DATE">有効終了日</span></td>
                  <td hidden=true>&nbsp;</td>
                </tr>
                </orloophead><orloop>
                <tr>
                  <td><orflabel  name="FrLo_ITEM_CD" tablename="M_ITEM" columnname="ITEM_CD" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目番号" orteus="true"></orflabel></td>
                  <td><orflabel  name="Fr_PS_EDITION" tablename="M_PS" columnname="PS_EDITION" dbtype="varchar2" 
                       tablejname="製品構成" columnjname="製品構成版数" orteus="true"></orflabel></td>
                  <td><orflabel  name="FrLo_ITEM_NAME" tablename="M_ITEM" columnname="ITEM_NAME" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目名" orteus="true"></orflabel></td>
                  <td><orflabel  name="Fr_EFF_PHASE_IN_DATE" tablename="M_PS" columnname="EFF_PHASE_IN_DATE" dbtype="date" 
                       tablejname="製品構成" columnjname="製品構成有効開始日" orteus="true"></orflabel></td>
                  <td><orflabel  name="Fr_EFF_PHASE_OUT_DATE" tablename="M_PS" columnname="EFF_PHASE_OUT_DATE" dbtype="date" 
                       tablejname="製品構成" columnjname="製品構成有効終了日" orteus="true"></orflabel></td>
                  <td><orftextinput  name="h_Fr_MODIFY_COUNT" tablename="M_PS" columnname="MODIFY_COUNT" dbtype="number" 
                       tablejname="製品構成" columnjname="更新数" orteus="true" visible="false"></orftextinput></td>
                </tr>
                </orloop>
              </table>
            </td>
            <td width="12" class="frame06"></td>
            <td width="4" height="12"></td>
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05">
              <table orftype="DataGrid" name="AA0180020view4" mode="VIEW" attribute="DGS_SELECTOFF"
                   width="453" height="349" border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width=116>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_CD">品目番号</span></td>
                  <td width=35>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.PS_EDITION_3">版数</span></td>
                  <td width=148>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_NAME">品目名</span></td>
                  <td width=75>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.EFF_PHASE_IN_DATE_4">有効開始日</span></td>
                  <td width=75>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.EFF_PHASE_OUT_DATE">有効終了日</span></td>
                </tr>
                </orloophead>
                <%
                  List listBackup = aAA0180020Control.getList();
                  aAA0180020Control.setList(aAA0180020Control.getToList());
                %>
                <orloop>
                <tr>
                  <td><orflabel  name="ToLo_ITEM_CD" tablename="M_ITEM" columnname="ITEM_CD" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目番号" orteus="true"></orflabel></td>
                  <td><orflabel  name="To_PS_EDITION" tablename="M_PS" columnname="PS_EDITION" dbtype="varchar2" 
                       tablejname="製品構成" columnjname="製品構成版数" orteus="true"></orflabel></td>
                  <td><orflabel  name="ToLo_ITEM_NAME" tablename="M_ITEM" columnname="ITEM_NAME" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目名" orteus="true"></orflabel></td>
                  <td><orflabel  name="To_EFF_PHASE_IN_DATE" tablename="M_PS" columnname="EFF_PHASE_IN_DATE" dbtype="date" 
                       tablejname="製品構成" columnjname="製品構成有効開始日" orteus="true"></orflabel></td>
                  <td><orflabel  name="To_EFF_PHASE_OUT_DATE" tablename="M_PS" columnname="EFF_PHASE_OUT_DATE" dbtype="date" 
                       tablejname="製品構成" columnjname="製品構成有効終了日" orteus="true"></orflabel></td>
                </tr>
                </orloop>
                <%
                  aAA0180020Control.setList(listBackup);
                %>
              </table>
            </td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr height="32"> 
            <td width="12" class="frame15" height="32"></td>
            <td width="315" class="frame10" height="32">
              <table orftype="DataGrid" mode="BUTTON" name="AA0180020button2" width="315" height="22" 
                   border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width=105>&nbsp;</td>
                  <td width=105>&nbsp;</td>
                  <td width=105>&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td><orfbutton  name="Update" value="更新" pattern="update" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" 
                       mlname="Expj.BtnUpdate" width="100" 
                       script1="onClick;0;CHK;_AA0180020form1/FrUp_ITEM_CD[eq]_AA0180020form1/ToUp_ITEM_CD@#AA00051"
                       script2="onClick;1;SUBMIT;_AA0180020form1/*,_AA0180020view3/+@AA0180020Servlet,,$ZZ07003" lock="1"></orfbutton></td>
                  <td><orfbutton  name="CheckAll" value="全選択" pattern="none" revokeCtrl="disabled" orteus="false" mlang="true" mlkind="common" 
                       mlname="Expj.BtnCheckAll" width="100" 
                       script1="onClick;0;DGSALL;AA0180020view3"></orfbutton></td>
                  <td><orfbutton  name="CheckClear" value="全解除" pattern="none" revokeCtrl="disabled" orteus="false" mlang="true" mlkind="common" 
                       mlname="Expj.BtnCheckClear" width="100" 
                       script1="onClick;0;DGSCANCEL;AA0180020view3"></orfbutton></td>
                </tr>
                </ornoloop>
              </table>
            </td>
            <td width="60" class="frame16" height="32"></td>
            <td width="78" class="frame08" height="32"></td>
            <td width="12" class="frame17" height="32"></td>
            <td width="4" height="32"></td>
            <td width="12" class="frame07" height="32"></td>
            <td colspan="3" class="frame08" height="32"></td>
            <td width="12" class="frame17" height="32"></td>
          </tr>
        </table>
      </td>
      <td width="5" height="416"></td>
    </tr>
    <tr height="5"> 
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr height="42"> 
      <td colspan="3" width="968" height="42" class="under"> 
        <table width="968" border="0">
          <tr> 
            <td align="left" width="748"></td>
            <td align="right" width="210"> 
              <table orftype="DataGrid" mode="BUTTON" name="AA0180020button0" width="210" height="22" 
                   border="1" cellspacing="0" cellpadding="0">
                <orloophead> 
                <tr bgcolor="#ccff99"> 
                  <td width=105>&nbsp;</td>
                  <td width=105>&nbsp;</td>
                </tr>
                </orloophead><ornoloop> 
                <tr> 
                  <td><orfbutton  name="Clear" value="クリア" pattern="none" orteus="true" mlang="true" mlkind="common" 
                       mlname="Expj.BtnClear" width="100" 
                       script1="onClick;0;SUBMIT;_AA0180020form1/*@AA0180020Servlet,,$ZZ07008" lock="0"></orfbutton></td>
                  <td><orfbutton  name="Close" value="閉じる" pattern="none" orteus="true" mlang="true" mlkind="common" 
                       mlname="Expj.BtnClose" width="100" 
                       script1="onClick;0;CLOSE"></orfbutton></td>
                </tr>
                </ornoloop> 
              </table>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

<%
  MessageStruct msgStruct = aAA0180020Control.getMsgStruct();
%>
<%@include file="common/SetServerMessage.jsp" %>
</body>
</html>

