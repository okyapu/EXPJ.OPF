<%-- ********************************************************
Copyright (c) 2003-2004 NEC Corporation
Copyright (c) 2003-2004 NEC Informatec Systems,Ltd.

カレンダメンテナンス
$Source: D:/EXPJCVS/EXPJPROJ/expjprsaUV2/EXPJProj/OPF/AA0080/AA0080020.html,v $
$Author: geng-jia $    
$Revision: 1.5 $ $Date: 2017/02/13 02:15:43 $
********************************************************* --%>
<html>
<head>
<title>カレンダメンテナンス</title>
<%@include file="common/expj_v5.jsp" %>
</head>
<body flash="true" name="AA0080020" version="AA0080020 $Revision: 1.5 $" onLoad="onInitializeOnLoad()" bgcolor="#000000" topmargin="0" bottommargin="0" leftmargin="0" rightmargin="0" widthResize="true" heightResize="2">

  <table width="968" bgcolor="white" class="back" height="590" border="0" cellspacing="0" cellpadding="0">
    <tr height="5"> 
      <td colspan="3"></td>
    </tr>
    <tr height="94"> 
      <td width="5"></td>
      <td valign="top" width="958"> 
        <table width="958" border="0" cellspacing="0" cellpadding="0">
          <tr height="12"> 
            <td width="12" class="frame01"></td>
            <td colspan="3" class="frame02"></td>
            <td width="12" class="frame03"></td>
          </tr>
          <tr> 
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05"> 
              <table orftype="DataGrid" mode="FORM" name="AA0080020form1" width="935" height="50" border="1" cellspacing="0" cellpadding="0"
                 status="<%= TypeConverter.sanitizer(aAA0080020Control.getReadStatusString()) %>"
                 script1="onLoad;0;CALL;onDecision@0,1"

                 script2="onDecision;0;CHK;?AA0080020form1/*[eq]NORMAL[or]?AA0080020form1/*[eq]NOT_FOUND@*0,*6"
                 script3="child;0;CHKRQ;A@*1,*6"
                 script4="child;1;CHK;?AA0080020form1/CAL_NO[eq]SAME@*2,*6"
                 script5="child;2;CHK;?AA0080020form1/*[eq]NORMAL@*3,*4"
                 script6="child;3;UNMASK;_AA0080020button2/update@*5"
                 script7="child;4;MASK;_AA0080020button2/update@*5"
                 script8="child;5;UNMASK;_AA0080020button2/before,_AA0080020button2/next,_AA0080020button0/insert,_AA0080020button0/change"
                 script9="child;6;MASK;_AA0080020button2/update,_AA0080020button2/before,_AA0080020button2/next,_AA0080020button0/insert,_AA0080020button0/change"
                            
                 script10="onDecision;1;CHKRQ;A@*7,*8"
                 script11="child;7;UNMASK;_AA0080020button1/select"
                 script12="child;8;MASK;_AA0080020button1/select"
						 
              >
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width="170" align="right">&nbsp;</td>
                  <td width="150">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="88">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="170">&nbsp;</td>
                  <td width="150">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="88">&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td required=true><span orteus="true" mlang="true" mlkind="common" mlname="Expj.CAL_NO">カレンダ番号</span></td>
                  <td><orftextinput  name="CAL_NO" attribute="TIS_RIGHT" kind="OBT_N" required="A" maxlength="6" orteus="true" width="150"></orftextinput></td>
                  <td><orfpeeker  name="PeekerCalNo" value="" pattern="none" orteus="false" width="22"
                     attribute="BTS_PEEKER"
                     script1="onClick;0;PEEKER;_AA0080020form1/CAL_NO@<%=contextNo%>"
                     sqlname="CAL_NO_01" sqlparam_1="_AA0080020form1/CAL_NO"></orfpeeker></td>
                  <td><orftextinput  name="CAL_NAME" editable="false" orteus="true" width="320"></orftextinput></td>
                  <td><orftextinput  name="HEAD_DATE" orteus="true" visible="false"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="h_TIME_CTRL" orteus="true" visible="false"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0117">作成済期間</span></td>
                  <td><orftextinput  name="DATE_FROM" editable="false" kind="OBT_DATE;TYPE_YMD" orteus="true" width="150"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td align="center"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0043">〜</span></td>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="DATE_TO" editable="false" kind="OBT_DATE;TYPE_YMD" orteus="true" width="150"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                </ornoloop>
              </table>
            </td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr height="32"> 
            <td width="12" class="frame07"></td>
            <td width="769" class="frame08"> </td>
            <td width="60" class="frame09"></td>
            <td width="105" class="frame10">
            <table orftype="DataGrid" mode="BUTTON" name="AA0080020button1" width="105" height="22" border="1" cellspacing="0" cellpadding="0">
              <orloophead>
              <tr bgcolor="#ccff99">
                <td width="105">&nbsp;</td>
              </tr>
              </orloophead><ornoloop>
              <tr>
                <td>
                  <orfbutton name="select" value="読込" pattern="select" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnSelect" width="100" height="" lock="0" attribute="" visible=""
 script1="onClick;0;SUBMIT;_AA0080020form1/*,_AA0080020view1/*@AA0080020Servlet"
></orfbutton>
                </td>
              </tr>
              </ornoloop>
            </table></td>
            <td width="12" class="frame11"></td>
          </tr>
        </table>
      </td>
      <td width="5"></td>
    </tr>
    <tr height="5"> 
      <td colspan="3"></td>
    </tr>
    <tr height="439"> 
      <td width="5" height="439"></td>
      <td valign="top" width="958"> 
        <table width="958" border="0" cellspacing="0" cellpadding="0">
          <tr height="12"> 
            <td width="12" class="frame01"></td>
            <td colspan="3" class="frame02"></td>
            <td width="12" class="frame03"></td>
          </tr>
          <tr> 
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05"> 
              <table orftype="DataGrid" mode="VIEW" name="AA0080020view1" status="<%= TypeConverter.sanitizer(aAA0080020Control.getReadStatusString()) %>" width="934" height="395" border="1" attribute="DGS_SELECTOFF|DGS_SORTOFF" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td hidden="true">&nbsp;</td>
                  <td hidden="true">&nbsp;</td>
                  <td hidden="true">&nbsp;</td>
                  <td width="100"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.CAL_DATE">年月日</span></td>
                  <td width="60"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0101">曜日</span></td>
                  <td width="300"><orfdata excell='true'></orfdata><span orteus="true" mlang="true" mlkind="common" mlname="Expj.CAL_COMMENT">カレンダ明細備考</span></td>
                  <td width="40"><orfdata excell='check'></orfdata><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0100">休日</span></td>
                  <td width="100"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ASP_SHIFT_CD">ASPシフトコード</span></td>
                </tr>
                </orloophead>
                <orloop>
                <tr>
<%
    String canSelect = "true";
    int sts_val = 0;
    if(aAA0080020Struct.geth_TIME_CTRL() != null) {
    	sts_val =  Integer.parseInt(aAA0080020Struct.geth_TIME_CTRL());
		
    }
	    
    if(sts_val == 0){
        canSelect = "false";
    }else{
		canSelect = "true";
	}
%>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="HOLIDAY_FLG"   orteus="true" visible="false"></orftextinput></td>
                  <td><orflabel  name="MODIFY_COUNT"   orteus="true" visible="false"></orflabel></td>
                  <td><orflabel  name="CAL_DATE" kind="OBT_DATE;TYPE_YMD" orteus="true"></orflabel></td>
                  <td><orflabel  name="CAL_DATE_WEEK"   orteus="true"></orflabel></td>
                  <td><orftextinput  name="CAL_COMMENT" maxlength="80" tablename="M_CAL" columnname="CAL_COMMENT" orteus="true"></orftextinput></td>
                  <td><orfcheckbox  name="c_HOLIDAY_FLG" value="true" check="false" orteus="true" width="22" height="" text=""></orfcheckbox></td>
				  <td><orftextinput name="ASP_SHIFT_CD" maxlength="100" tablename="M_ASP_CALENDAR" columnname="SHIFT_CD" orteus="true" editable='<%= canSelect %>' ></orftextinput></td>
                </tr>
                </orloop>
              </table>
            </td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr height="32"> 
            <td width="12" class="frame15"></td>
            <td width="315" class="frame10">
            <table orftype="DataGrid" mode="BUTTON" name="AA0080020button2" width="315" height="22" border="1" cellspacing="0" cellpadding="0">
              <orloophead>
              <tr bgcolor="#ccff99">
                <td width="105">&nbsp;</td>
                <td width="105">&nbsp;</td>
                <td width="105">&nbsp;</td>
              </tr>
              </orloophead><ornoloop>
              <tr>
                <td>
                  <orfbutton name="update" value="更新" pattern="update" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnUpdate" width="100" height="" lock="1" attribute="" visible=""
 script1="onClick;0;SUBMIT;_AA0080020form1/*,_AA0080020view1/*@AA0080020Servlet,,$ZZ07003"
></orfbutton>
                </td>
                <td>
                  <orfbutton name="before" value="前月" pattern="select" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnBeforeMonth" width="100" height="" lock="0" attribute="" visible=""
 script1="onClick;0;SUBMIT;_AA0080020form1/*,_AA0080020view1/*@AA0080020Servlet"
></orfbutton>
                </td>
                <td>
                  <orfbutton name="next" value="翌月" pattern="select" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnNextMonth" width="100" height="" lock="0" attribute="" visible=""
 script1="onClick;0;SUBMIT;_AA0080020form1/*,_AA0080020view1/*@AA0080020Servlet"
></orfbutton>
                </td>
              </tr>
              </ornoloop>
            </table>
            </td>
            <td width="60" class="frame16"></td>
            <td width="559" class="frame08"></td>
            <td width="12" class="frame17"></td>
          </tr>
        </table>
      </td>
      <td width="5"></td>
    </tr>
    <tr height="5"> 
      <td colspan="3"></td>
    </tr>
    <tr height="42"> 
      <td colspan="3" width="968" class="under"> 
        <table width="968" border="0">
          <tr> 
            <td align="left" width="548"></td>
            <td align="right" width="420"> 
              <table orftype="DataGrid" mode="BUTTON" name="AA0080020button0" width="420" height="22" border="1" cellspacing="0" cellpadding="0">
                <orloophead> 
                <tr bgcolor="#ccff99"> 
                  <td width="105">&nbsp;</td>
                  <td width="105">&nbsp;</td>
                  <td width="105">&nbsp;</td>
                  <td width="105">&nbsp;</td>
                </tr>
                </orloophead><ornoloop> 
                <tr> 
                  <td>
                    <orfbutton name="insert" value="カレンダ作成" pattern="insert" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnInsertCurender" width="100" height="" lock="0" attribute="" visible=""
 script1="onClick;0;SCRCHG;_AA0080020form1/*,_AA0080020view1/*@AA0080020Servlet"
></orfbutton>
                  </td>
                  <td>
                    <orfbutton name="change" value="休日再設定" pattern="update" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnResetHoliday" width="100" height="" lock="0" attribute="" visible=""
 script1="onClick;0;SCRCHG;_AA0080020form1/*,_AA0080020view1/*@AA0080020Servlet"
></orfbutton>
                  </td>
                  <td>
                    <orfbutton  name="clear" value="クリア" pattern="none" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnClear" width="100"
                       script1="onClick;0;SUBMIT;_AA0080020form1/*,_AA0080020view1/*@AA0080020Servlet,,$ZZ07008"   lock="0">
                    </orfbutton>
                  </td>
                  <td>
                    <orfbutton  name="close" value="閉じる" pattern="none" orteus="false" mlang="true" mlkind="common" mlname="Expj.BtnClose" width="100"
                       script1="onClick;0;CLOSE">
                    </orfbutton>
                  </td>
                </tr>
                </ornoloop> 
              </table>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
<%
MessageStruct msgStruct = aAA0080020Control.getMessage();
%>
<%@include file="common/SetServerMessage.jsp" %>
</body>
</html>
