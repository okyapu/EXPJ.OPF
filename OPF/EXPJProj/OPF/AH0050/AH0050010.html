<%-- ********************************************************
Copyright (c) 2003-2004 NEC Corporation
Copyright (c) 2003-2004 NEC Informatec Systems,Ltd.

実棚入力
$Source: D:/EXPJCVS/EXPJPROJ/expjprsaUV2/EXPJProj/OPF/AH0050/AH0050010.html,v $
$Author: geng-jia $	
$Revision: 1.5 $ $Date: 2017/02/13 03:30:52 $
********************************************************* --%>
<html>
<head>
<title>実棚入力</title>
<%@include file="common/expj_v5.jsp" %>
</head>
<body flash="true" name="AH0050010" version="AH0050010 $Revision: 1.5 $" onLoad="onInitializeOnLoad()" bgcolor="#000000" topmargin="0" bottommargin="0" leftmargin="0" rightmargin="0" widthResize="true" heightResize="2">

  <table width="968" bgcolor="white" class="back" height="590" border="0" cellspacing="0" cellpadding="0">
    <tr height="5"> 
      <td colspan="3"></td>
    </tr>
    <tr height="186"> 
      <td width="5"></td>
      <td valign="top" width="958"> 
        <table width="958" border="0" cellspacing="0" cellpadding="0">
          <tr height="12"> 
            <td width="12" class="frame01"></td>
            <td colspan="3" class="frame02"></td>
            <td width="12" class="frame03"></td>
          </tr>
          <tr> 
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05"> 
              <table orftype="DataGrid" mode="FORM" name="AH0050010form1" width="934" height="142" border="1" cellspacing="0" cellpadding="0"
				 status="<%= TypeConverter.sanitizer(aAH0050010Control.getReadStatusString()) %>"
				 script1="onLoad;0;CALL;child@0,3"				
				 script2="child;0;CHK;_AH0050010form1/h_JOB_ODR_CD_STOCK_flg[eq]1@*1,*2"			
				 script3="child;1;SET;_AH0050010form1/c_JOB_ODR_CD_STOCK_flg=true"		
				 script4="child;2;SET;_AH0050010form1/c_JOB_ODR_CD_STOCK_flg=false"		
								
				 script5="child;3;CHK;_AH0050010form1/h_JOB_ODR_CD_STOCK_flg[eq]1@*4,*5"			
				 script6="child;4;UNMASK;_AH0050010form1/JOB_ODR_CD,_AH0050010form1/PeekerJOB_ODR_CD"		
				 script7="child;5;MASK;_AH0050010form1/JOB_ODR_CD,_AH0050010form1/PeekerJOB_ODR_CD"		
								
								
				 script8="onLoad;1;CALL;onDecision@0,1"				
				 script9="onDecision;0;CHKRQ;A,B@*6,*7"			
				 script10="child;6;UNMASK;_AH0050010button1/select"		
				 script11="child;7;MASK;_AH0050010button1/select"		

				 script12="onDecision;1;CHKRQ;A,B@*8,*18"			
				 script13="child;8;CHK;?AH0050010form1/*[eq]NORMAL[or]?AH0050010form1/*[eq]NOT_FOUND@*9,*18"		
				 script14="child;9;CHK;?AH0050010form1/WH_CD[eq]SAME@*10,*18"	
				 script15="child;10;CHK;?AH0050010form1/w_ITEM_CD[eq]SAME@*11,*18"	
				 script16="child;11;CHK;?AH0050010form1/c_JOB_ODR_CD_STOCK_flg[eq]SAME@*12,*18"	
				 script17="child;12;CHK;_AH0050010form1/c_JOB_ODR_CD_STOCK_flg[eq]true@*13,*14"	
				 script18="child;13;CHK;?AH0050010form1/JOB_ODR_CD[eq]SAME@*14,*18"
				 script19="child;14;CHK;?AH0050010form1/*[eq]NORMAL@*15,*16"	
				 script20="child;15;UNMASK;_AH0050010button2/update,_AH0050010button2/append"
				 script21="child;16;UNMASK;_AH0050010button2/append@*17"
				 script22="child;17;MASK;_AH0050010button2/update"
				 script23="child;18;MASK;_AH0050010button2/update,_AH0050010button2/append"	
				 
				 script24="onLoad;2;CALL;child@19"
				 script25="child;19;CHK;_AH0050010form1/h_lotCtrl[eq]true@*20,*21"
				 script26="child;20;UNMASK;_AH0050010form1/LOT_NO_form,_AH0050010form1/Peekerw_STOCK_LOT_CD"
				 script27="child;21;MASK;_AH0050010form1/LOT_NO_form,_AH0050010form1/Peekerw_STOCK_LOT_CD"
				 
				 script28="onLoad;3;CALL;onDecision@2,3"
				 
				 script29="onDecision;2;CHK;_AH0050010form1/h_APR_INV_CTRL[eq]1[and]_AH0050010form1/h_APRR_FLG[eq]2@*23"
				 script31="child;23;MASK;_AH0050010button2/update,_AH0050010button2/append,_AH0050010button1/CsvImport,_AH0050010button1/select"
				 
				 script32="onDecision;3;CHK;?AH0050010form1/*[eq]ERROR@*24"
				 script33="child;24;MASK;_AH0050010button2/update,_AH0050010button2/append,_AH0050010button1/CsvImport,_AH0050010button1/select"
              >
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width="170" align="right">&nbsp;</td>
                  <td width="150">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="88">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="170">&nbsp;</td>
                  <td width="150">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="88">&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.INV_DATE">棚卸日</span></td>
                  <td><orftextinput  name="INV_DATE" editable="false" orteus="true" width="150" required="B"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="w_INV_status" editable="false" orteus="true" width="320"></orftextinput></td>
                  <td><orftextinput  name="h_JOB_ODR_CD_STOCK_flg" orteus="true" visible="false"></orftextinput></td>
                  <td><orftextinput name="h_lotCtrl" orteus="true" visible="false"></orftextinput></td>
                  <td><orftextinput name="h_APR_INV_CTRL" orteus="true" visible="false"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="h_change_flg" orteus="true" visible="false"></orftextinput></td>
                </tr>
                <tr>
                  <td required=true><span orteus="true" mlang="true" mlkind="common" mlname="Expj.WH_CD">保管区コード</span></td>
                  <td><orftextinput  name="WH_CD" maxlength="25" orteus="true" width="260" required="A"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orfpeeker  name="PeekerWH_CD" value="" pattern="none" orteus="false" width="22"
                     attribute="BTS_PEEKER"
                     script1="onClick;0;PEEKER;_AH0050010form1/WH_CD@<%=contextNo%>"
                     sqlname="WH_CD_01" sqlparam_1="<%=aAH0050010Control.getsysPLANT_CD()%>" sqlparam_2="_AH0050010form1/WH_CD"></orfpeeker></td>
                  <td><orftextinput  name="WH_NAME" editable="false" orteus="true" width="320"></orftextinput></td>
                  <td><orftextinput name="h_APRR_FLG" orteus="true" visible="false"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_CD">品目番号</span></td>
                  <td><orftextinput  name="w_ITEM_CD" maxlength="25" orteus="true" width="260" kind="OBT_WILD"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orfpeeker name="Peekerw_ITEM_CD" value="" pattern="none" revokeCtrl="none" orteus="false" width="22" height="22" lock="0" attribute="BTS_PEEKER" visible="true" sqlname="ITEM_CD_01" sqlparam_1="_AH0050010form1/w_ITEM_CD"
 script1="onClick;0;PEEKER;_AH0050010form1/w_ITEM_CD@<%=contextNo%>"
></orfpeeker></td>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0002">（ワイルドカード指定可）</span></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
				<tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.STOCK_LOT_CD">在庫ロット番号</span></td>
                  <td><orftextinput  name="LOT_NO_form" maxlength="25" orteus="true" width="260" kind="OBT_WILD"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orfpeeker name="Peekerw_STOCK_LOT_CD" value="" pattern="none" revokeCtrl="none" orteus="false" width="22" height="22" lock="0" attribute="BTS_PEEKER" visible="true" sqlname="LOT_NO_12" sqlparam_1="_AH0050010form1/LOT_NO_form" sqlparam_2="_AH0050010form1/w_ITEM_CD" sqlparam_3="_AH0050010form1/WH_CD"
 script1="onClick;0;PEEKER;_AH0050010form1/LOT_NO_form:_AH0050010form1/w_ITEM_CD:_AH0050010form1/WH_CD@<%=contextNo%>"
></orfpeeker></td>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0002">（ワイルドカード指定可）</span></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.JOB_ODR_CD">製番</span></td>
                  <td><orftextinput  name="JOB_ODR_CD" maxlength="25" orteus="true" width="260" kind="OBT_WILD"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orfpeeker name="PeekerJOB_ODR_CD" value="" pattern="none" revokectrl="none" orteus="false" width="22" height="22" lock="0" attribute="BTS_PEEKER" visible="true" sqlname="JOB_ODR_CD_04" sqlparam_2="_AH0050010form1/JOB_ODR_CD"
 script1="onClick;0;PEEKER;_AH0050010form1/JOB_ODR_CD@<%=contextNo%>"
></orfpeeker></td>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0002">（ワイルドカード指定可）</span></td>
                  <td><orfcheckbox  name="c_JOB_ODR_CD_STOCK_flg" orteus="true" value="true" width="260" mlang="true" mlkind="common" mlname="Expj.Cmt0208"
					 script1="onClick;0;CHK;_THIS[eq]true@*0,*2"	
						 script2="child;0;UNMASK;_AH0050010form1/JOB_ODR_CD@*1"
						 script3="child;1;UNMASK;_AH0050010form1/PeekerJOB_ODR_CD@*5"
						 script4="child;2;SET;_AH0050010form1/JOB_ODR_CD=@*3"
						 script5="child;3;MASK;_AH0050010form1/JOB_ODR_CD@*4"
						 script6="child;4;MASK;_AH0050010form1/PeekerJOB_ODR_CD@*7"
						 script7="child;5;SET;_AH0050010form1/LOT_NO_form=@*6"
						 script8="child;6;MASK;_AH0050010form1/LOT_NO_form@*9"					 
						 script9="child;7;CHK;_AH0050010form1/h_lotCtrl[eq]true@*8"				 
						 script10="child;8;UNMASK;_AH0050010form1/LOT_NO_form@*10"
						 script11="child;9;MASK;_AH0050010form1/Peekerw_STOCK_LOT_CD"
						 script12="child;10;UNMASK;_AH0050010form1/Peekerw_STOCK_LOT_CD"
                  ></orfcheckbox></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.STOCK_SAVE_DATE">在庫退避日時</span></td>
                  <td><orftextinput  name="STOCK_SAVE_DATE" editable="false" orteus="true" width="150"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                </ornoloop>
              </table>
            </td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr height="32"> 
            <td width="12" class="frame07"></td>
            <td width="664" class="frame08"> </td>
            <td width="60" class="frame09"></td>
            <td width="210" class="frame10">
            <table orftype="DataGrid" mode="BUTTON" name="AH0050010button1" width="210" height="22" border="1" cellspacing="0" cellpadding="0">
              <orloophead>
              <tr bgcolor="#ccff99">
                <td width="105">&nbsp;</td>
                <td width="105">&nbsp;</td>
              </tr>
              </orloophead><ornoloop>
              <tr>
                <td>
                  <orfbutton name="CsvImport" value="CSV取込" pattern="update" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnCsvImport" width="100" height="" lock="0" attribute="" visible=""
 script1="onClick;0;SCRCHG;_AH0050010form1/*@AH0050010Servlet"
></orfbutton>
                </td>
                <td><orfbutton name="select" value="読込" pattern="select" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnSelect" width="100" height="" lock="0" attribute="" visible=""
 script1="onClick;0;CHK;1[eq]1@*0"
 script2="child;0;CHK;_AH0050010form1/c_JOB_ODR_CD_STOCK_flg[eq]true@*1,*2"
 script3="child;1;SET;_AH0050010form1/h_JOB_ODR_CD_STOCK_flg=1@*3"
 script4="child;2;SET;_AH0050010form1/h_JOB_ODR_CD_STOCK_flg=0@*3"
 script5="child;3;SUBMIT;_AH0050010form1/*,_AH0050010view1/*@AH0050010Servlet"
></orfbutton></td>
              </tr>
              </ornoloop>
            </table>
            </td>
            <td width="12" class="frame11"></td>
          </tr>
        </table>
      </td>
      <td width="5"></td>
    </tr>
    <tr height="5"> 
      <td colspan="3"></td>
    </tr>
    <tr height="347"> 
      <td width="5"></td>
      <td valign="top" width="958"> 
        <table width="958" border="0" cellspacing="0" cellpadding="0">
          <tr height="12"> 
            <td width="12" class="frame01"></td>
            <td colspan="3" class="frame02"></td>
            <td width="12" class="frame03"></td>
          </tr>
          <tr> 
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05"> 
              <table orftype="DataGrid" mode="VIEW" attribute="DGS_SELECTMULTI|DGS_SORTOFF" name="AH0050010view1" width="934" height="303" border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td hidden="true">&nbsp;</td>
                  <td hidden="true">&nbsp;</td>
                  <td hidden="true">&nbsp;</td>
                  <td width="200"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_CD">品目番号</span></td>
                  <td width="200"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_NAME">品目名</span></td>
				  <td width="150"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.STOCK_LOT_CD">在庫ロット番号</span></td>
                  <td width="100"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.JOB_ODR_CD">製番</span></td>
                  <td width="100" align="right"><orfdata excell='true'></orfdata><span orteus="true" mlang="true" mlkind="common" mlname="Expj.FINAL_BOOK_STOCK_QTY">最終帳簿在庫数</span></td>
                  <td width="150" align="right"><orfdata excell='true'></orfdata><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ACTUAL_STOCK_QTY">実棚数</span></td>
                  <td width="100"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.STOCK_UNIT">計量単位</span></td>
                </tr>
                </orloophead><orloop>
                <tr>
                  <td><orflabel  name="UNIT_QTY_TYP"   orteus="true" visible="false"></orflabel></td>
                  <td><orflabel  name="MODIFY_COUNT"   orteus="true" visible="false"></orflabel></td>
				  <td><orflabel  name="MODIFY_COUNT_1"   orteus="true" visible="false"></orflabel></td>
                  <td><orflabel  name="ITEM_CD"   orteus="true"></orflabel></td>
                  <td><orflabel  name="ITEM_NAME"   orteus="true"></orflabel></td>
				  <td><orflabel  name="LOT_NO"   orteus="true"></orflabel></td>
                  <td><orflabel  name="w_JOB_ODR_CD"   orteus="true"></orflabel></td>
                  <td><orflabel  name="FINAL_BOOK_STOCK_QTY"   orteus="true" kind="OBT_NUMBER;14.1;FLOOR;4"></orflabel></td>
                  <td><orftextinput  name="ACTUAL_STOCK_QTY"   orteus="true" 
					 kind='<%=Kind.convertNumeric(Kind.NUMBER, Kind.Z, 14, 1, Kind.FLOOR, ("1".equals(aAH0050010Struct.getUNIT_QTY_TYP())==true ? 0:4))%>'
					 script1="onDecision;0;CHK;1[eq]1@*0"
					 script2="child;0;SET;_AH0050010form1/h_change_flg=1"
                  ></orftextinput></td>
                  <td><orflabel  name="STOCK_UNIT"   orteus="true"></orflabel></td>
                </tr>
                </orloop>
              </table>
            </td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr height="32"> 
            <td width="12" class="frame15"></td>
            <td width="210" class="frame10">
            <table orftype="DataGrid" mode="BUTTON" name="AH0050010button2" width="210" height="22" border="1" cellspacing="0" cellpadding="0">
              <orloophead>
              <tr bgcolor="#ccff99">
                <td width="105">&nbsp;</td>
                <td width="105">&nbsp;</td>
              </tr>
              </orloophead><ornoloop>
              <tr>
                <td><orfbutton name="update" value="更新" pattern="update" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnUpdateAll" width="100" height="" lock="1" attribute="" visible=""
 script1="onClick;0;CHK;1[eq]1@*0"
 script2="child;0;CHK;_AH0050010form1/c_JOB_ODR_CD_STOCK_flg[eq]true@*1,*2"
 script3="child;1;SET;_AH0050010form1/h_JOB_ODR_CD_STOCK_flg=1@*3"
 script4="child;2;SET;_AH0050010form1/h_JOB_ODR_CD_STOCK_flg=0@*3"
 script5="child;3;SUBMIT;_AH0050010form1/*,_AH0050010view1/*@AH0050010Servlet,,$ZZ07003"
></orfbutton></td>
                <td><orfbutton name="append" value="行追加" pattern="insert" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnLineInsert" width="100" height="" lock="0" attribute="" visible=""
 script1="onClick;0;CHK;1[eq]1@*0"
 script2="child;0;CHK;_AH0050010form1/c_JOB_ODR_CD_STOCK_flg[eq]true@*1,*2"
 script3="child;1;SET;_AH0050010form1/h_JOB_ODR_CD_STOCK_flg=1@*3"
 script4="child;2;SET;_AH0050010form1/h_JOB_ODR_CD_STOCK_flg=0@*3"
 script5="child;3;CHK;_AH0050010form1/h_change_flg[eq]1@*5,*4"
 script6="child;4;SCRCHG;_AH0050010form1/*,_AH0050010view1/*@AH0050010Servlet"
 script7="child;5;SCRCHG;_AH0050010form1/*,_AH0050010view1/*@AH0050010Servlet,,$AH90003"
></orfbutton></td>
              </tr>
              </ornoloop>
            </table> 
            </td>
            <td width="60" class="frame16"></td>
            <td width="664" class="frame08"></td>
            <td width="12" class="frame17"></td>
          </tr>
        </table>
      </td>
      <td width="5"></td>
    </tr>
    <tr height="5"> 
      <td colspan="3"></td>
    </tr>
    <tr height="42"> 
      <td colspan="3" width="968" class="under"> 
        <table width="968" border="0">
          <tr> 
            <td align="left" width="758"></td>
            <td align="right" width="210"> 
              <table orftype="DataGrid" mode="BUTTON" name="AH0050010button0" width="210" height="22" border="1" cellspacing="0" cellpadding="0">
                <orloophead> 
                <tr bgcolor="#ccff99"> 
                  <td width="105">&nbsp;</td>
                  <td width="105">&nbsp;</td>
                </tr>
                </orloophead><ornoloop> 
                <tr> 
                  <td><orfbutton  name="clear" value="クリア" pattern="none" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnClear" width="100"
					 script1="onClick;0;SUBMIT;_AH0050010form1/*,_AH0050010view1/*@AH0050010Servlet,,$ZZ07008"
					 lock="0"
                  ></orfbutton></td>
                  <td><orfbutton  name="close" value="閉じる" pattern="none" orteus="false" mlang="true" mlkind="common" mlname="Expj.BtnClose" width="100"
					 script1="onClick;0;CLOSE"
                  ></orfbutton></td>
                </tr>
                </ornoloop> 
              </table>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

<%
MessageStruct msgStruct = aAH0050010Control.getMessage();
%>
<%@include file="common/SetServerMessage.jsp" %>
</body>
</html>
