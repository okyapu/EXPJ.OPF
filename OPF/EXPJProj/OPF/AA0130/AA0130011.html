<%-- ********************************************************
Copyright (c) 2003-2004 NEC Corporation
Copyright (c) 2003-2004 NEC Informatec Systems,Ltd.

製品構成ツリーメンテナンスサブ１
$Source: D:/EXPJCVS/EXPJPROJ/expjprsaUV2/EXPJProj/OPF/AA0130/AA0130011.html,v $
$Author: geng-jia $    
$Revision: 1.5 $ $Date: 2017/02/13 02:18:36 $
********************************************************* --%>
<html>
<head>
<title>製品構成ツリーメンテナンスサブ１</title>
<%@include file="common/expj_v5.jsp" %>
</head>
<body flash="true" name="AA0130011" version="AA0130011 $Revision: 1.5 $" onLoad="onInitializeOnLoad()" bgcolor="#000000" topmargin="0" bottommargin="0" leftmargin="0" rightmargin="0" widthResize="true" heightResize="1">

<% String CallButton = aAA0130010Control.getButton(); %>
  <table width="968" bgcolor="white" class="back" height="590" border="0" cellspacing="0" cellpadding="0">
    <tr height="5"> 
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr height="538"> 
      <td width="5" height="538"></td>
      <td valign="top" width="958"> 
        <table width="958" border="0" cellspacing="0" cellpadding="0">
          <tr height="12"> 
            <td width="12" height="12" class="frame01"></td>
            <td colspan="3" height="12" class="frame02"></td>
            <td width="12" height="12" class="frame03"></td>
          </tr>
          <tr> 
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05"> 
              <table orftype="DataGrid" mode="FORM" name="AA0130011form1" width="934" height="494" border="1" cellspacing="0" cellpadding="0"
                   status="<%= TypeConverter.sanitizer(aAA0130010Control.getReadStatusString()) %>" 
                   script1="onLoad;0;CALL;onDecision@0,1"
                   script2="onDecision;0;CHKRQ;A,B@*0,*2"
                   script3="child;0;CHK;<%=CallButton%>[eq]LineInsert[or]<%=CallButton%>[eq]Sub1Insert@*1,*2"
                   script4="child;1;UNMASK;_AA0130011button1/Sub1Insert"
                   script5="child;2;MASK;_AA0130011button1/Sub1Insert"
                   script6="onDecision;1;CHKRQ;A,B@*3,*6"
                   script7="child;3;CHK;<%=CallButton%>[eq]LineUpdate[or]<%=CallButton%>[eq]Sub1Update@*4,*6"
                   script8="child;4;CHK;?AA0130011form1/*[eq]NORMAL@*5,*6"
                   script9="child;5;UNMASK;_AA0130011button1/Sub1Update"
                   script10="child;6;MASK;_AA0130011button1/Sub1Update">
                <orloophead> 
                <tr bgcolor="#ccff99"> 
                  <td width=170 align=right>&nbsp;</td>
                  <td width=150 align=left>&nbsp;</td>
                  <td width=22 align=left>&nbsp;</td>
                  <td width=88 align=left>&nbsp;</td>
                  <td width=22 align=left>&nbsp;</td>
                  <td width=150 align=left>&nbsp;</td>
                  <td width=20 align=left>&nbsp;</td>
                  <td width=150 align=left>&nbsp;</td>
                  <td width=22 align=left>&nbsp;</td>
                  <td width=88 align=left>&nbsp;</td>
                </tr>
                </orloophead><ornoloop> 
                <tr> 
                  <td required=true>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_CD">品目番号</span></td>
                  <td><orftextinput  name="Sub1Parent_ITEM_CD" tablename="M_ITEM" columnname="ITEM_CD" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目番号" orteus="true" width="260" maxlength="25" required="A"></orftextinput></td>
                  <td><orftextinput  name="h_Sub1Parent_ITEM_CD" tablename="M_ITEM" columnname="ITEM_CD" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目番号" orteus="true" visible="false"
                       script1="onLoad;0;CALL;child@0"
                       script2="child;0;CHK;_THIS[eq]@*1,*2"
                       script3="child;1;UNMASK;_Sub1Parent_ITEM_CD,_PeekerSub1ParentItemCd"
                       script4="child;2;MASK;_Sub1Parent_ITEM_CD,_PeekerSub1ParentItemCd"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td><orfpeeker  name="PeekerSub1ParentItemCd" value="" pattern="none" orteus="false" width="22" 
                       attribute="BTS_PEEKER" 
                       script1="onClick;0;PEEKER;_AA0130011form1/Sub1Parent_ITEM_CD@<%=contextNo%>"
                       sqlname="ITEM_CD_01" sqlparam_1="_Sub1Parent_ITEM_CD"></orfpeeker></td>
                  <td><orftextinput  name="Sub1Parent_ITEM_NAME" tablename="M_ITEM" columnname="ITEM_NAME" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目名" orteus="true" width="320" editable="false"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr> 
                  <td required=true>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_CD_1">構成品目番号</span></td>
                  <td><orftextinput  name="Sub1Comp_ITEM_CD" tablename="M_ITEM" columnname="ITEM_CD" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目番号" orteus="true" width="260" maxlength="25" required="A"></orftextinput></td>
                  <td><orftextinput  name="h_Sub1Comp_ITEM_CD" tablename="M_ITEM" columnname="ITEM_CD" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目番号" orteus="true" visible="false"
                       script1="onLoad;0;CALL;child@0"
                       script2="child;0;CHK;_THIS[eq]@*1,*2"
                       script3="child;1;UNMASK;_Sub1Comp_ITEM_CD,_PeekerSub1CompItemCd"
                       script4="child;2;MASK;_Sub1Comp_ITEM_CD,_PeekerSub1CompItemCd"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td><orfpeeker  name="PeekerSub1CompItemCd" value="" pattern="none" orteus="false" width="22" 
                       attribute="BTS_PEEKER" 
                       script1="onClick;0;PEEKER;_AA0130011form1/Sub1Comp_ITEM_CD@<%=contextNo%>"
                       sqlname="ITEM_CD_01" sqlparam_1="_Sub1Comp_ITEM_CD"></orfpeeker></td>
                  <td><orftextinput  name="Sub1Comp_ITEM_NAME" tablename="M_ITEM" columnname="ITEM_NAME" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目名" orteus="true" width="320" editable="false"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="h_TargetDate" orteus="true" visible="false"></orftextinput></td>
                  <td><orftextinput  name="h_DEVELOP_TYP" orteus="true" visible="false"></orftextinput></td>
                </tr>
                <tr> 
                  <td required=true>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.PS_EDITION">製品構成版数</span></td>
                  <td><orftextinput  name="Sub1_PS_EDITION" tablename="M_PS" columnname="PS_EDITION" dbtype="varchar2" 
                       tablejname="製品構成" columnjname="製品構成版数" orteus="true" width="260" maxlength="25" required="A"></orftextinput></td>
                  <td><orftextinput  name="h_Sub1_PS_EDITION" tablename="M_PS" columnname="PS_EDITION" dbtype="varchar2" 
                       tablejname="製品構成" columnjname="製品構成版数" orteus="true" visible="false"
                       script1="onLoad;0;CALL;child@0"
                       script2="child;0;CHK;_THIS[eq]@*1,*2"
                       script3="child;1;UNMASK;_Sub1_PS_EDITION"
                       script4="child;2;MASK;_Sub1_PS_EDITION"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="h_Sub1_MODIFY_COUNT" tablename="M_PS" columnname="MODIFY_COUNT" dbtype="varchar2" 
                       tablejname="製品構成" columnjname="更新数" orteus="true" visible="false"></orftextinput></td>
                  <td><orftextinput  name="h_Target_ITEM_CD" tablename="M_ITEM" columnname="ITEM_CD" dbtype="varchar2" 
                       tablejname="品目" columnjname="品目番号" orteus="true" visible="false"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="h_InitLevel" orteus="true" visible="false"></orftextinput></td>
                  <td><orftextinput  name="h_MaxLevel" orteus="true" visible="false"></orftextinput></td>
                </tr>
                <tr> 
                  <td>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.PS_UNIT_QTY">製品構成単位数</span></td>
                  <td><orftextinput  name="Sub1_PS_UNIT_NUMERATOR" tablename="M_PS" columnname="PS_UNIT_NUMERATOR" dbtype="number" 
                       tablejname="製品構成" columnjname="製品構成単位数分子" orteus="true" width="150" kind="OBT_NUMBER_P;14.1;FLOOR;4"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td align=center><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0005">／</span></td>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="Sub1_PS_UNIT_DENOMINATOR" tablename="M_PS" columnname="PS_UNIT_DENOMINATOR" dbtype="number" 
                       tablejname="製品構成" columnjname="製品構成単位数分母" orteus="true" width="150" kind="OBT_NUMBER_P;14.1;FLOOR;4"></orftextinput></td>
                  <td><orftextinput  name="Sub1_STOCK_UNIT" tablename="M_ITEM" columnname="STOCK_UNIT" dbtype="varchar2" 
                       tablejname="品目" columnjname="計量単位" orteus="true" width="110" editable="false"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr> 
                  <td required=true>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.EFF_PHASE_OUT_DATE_2">構成有効日</span></td>
                  <td><orftextinput  name="Sub1_EFF_PHASE_IN_DATE" tablename="M_PS" columnname="EFF_PHASE_IN_DATE" dbtype="date" 
                       tablejname="製品構成" columnjname="製品構成有効開始日" orteus="true" width="150" kind="OBT_DATE;TYPE_YMD" 
                       required="B"></orftextinput></td>
                  <td><orfcalendar  name="CalendarSub1EffPhaseInDate" value="" pattern="select" orteus="false" width="22" 
                       attribute="BTS_CALENDAR"
                       script1="onClick;0;CALENDAR;_AA0130011form1/Sub1_EFF_PHASE_IN_DATE"></orfcalendar></td>
                  <td align=center><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0043">〜</span></td>
                  <td>&nbsp;</td>
                  <td><orftextinput  name="Sub1_EFF_PHASE_OUT_DATE" tablename="M_PS" columnname="EFF_PHASE_OUT_DATE" dbtype="date" 
                       tablejname="製品構成" columnjname="製品構成有効終了日" orteus="true" width="150" kind="OBT_DATE;TYPE_YMD" 
                       required="B"></orftextinput></td>
                  <td><orfcalendar  name="CalendarSub1EffPhaseOutDate" value="" pattern="select" orteus="false" width="22" 
                       attribute="BTS_CALENDAR"
                       script1="onClick;0;CALENDAR;_AA0130011form1/Sub1_EFF_PHASE_OUT_DATE"></orfcalendar></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr> 
                  <td>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.PS_SPOIL">構成仕損率</span></td>
                  <td><orftextinput  name="Sub1_PS_SPOIL" tablename="M_PS" columnname="PS_SPOIL" dbtype="number" 
                       tablejname="製品構成" columnjname="構成仕損率" orteus="true" width="150" kind="OBT_NUMBER_Z;5.1;FLOOR;4"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0051">％</span></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr> 
                  <td>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.CONS_TYP">支給区分</span></td>
                  <td><orfcombobox  name="Sub1_CONS_TYP" tablename="M_PS" columnname="CONS_TYP" dbtype="number" 
                       tablejname="製品構成" columnjname="支給区分" orteus="true" width="260"></orfcombobox></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr> 
                  <td>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.PS_REF_NO_1">照会順序</span></td>
                  <td><orftextinput  name="Sub1_PS_REF_NO" tablename="M_PS" columnname="PS_REF_NO" dbtype="number" 
                       tablejname="製品構成" columnjname="製品構成照会キー" orteus="true" width="150" kind="OBT_INTEGER_Z;6"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr> 
                  <td>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.PS_FIXED_LT">製品構成固定分リードタイム</span></td>
                  <td><orftextinput  name="Sub1_PS_FIXED_LT" tablename="M_PS" columnname="PS_FIXED_LT" dbtype="number" 
                       tablejname="製品構成" columnjname="製品構成固定分リードタイム" orteus="true" width="150" 
                       kind="OBT_INTEGER_Z;6"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orfcheckbox  name="c_Sub1_PS_LT_FLG" tablename="M_PS" columnname="PS_LT_FLG" dbtype="number" 
                       tablejname="製品構成" columnjname="製品構成リードタイム使用フラグ" orteus="true" value="true" 
                       mlang="true" mlkind="common" mlname="Expj.Cmt0205" text="構成リードタイムを使う"
                       script1="onLoad;0;CALL;onClick@0"
                       script2="onClick;0;CHK;_THIS[eq]true@*0,*1"
                       script3="child;0;UNMASK;_Sub1_PS_FIXED_LT,_Sub1_PS_PROP_LT,_Sub1_PS_PROP_LOT_SIZE"
                       script4="child;1;MASK;_Sub1_PS_FIXED_LT,_Sub1_PS_PROP_LT,_Sub1_PS_PROP_LOT_SIZE"></orfcheckbox></td>
                  <td><orftextinput  name="h_Sub1_PS_LT_FLG" tablename="M_PS" columnname="PS_LT_FLG" dbtype="number" 
                       tablejname="製品構成" columnjname="製品構成リードタイム使用フラグ" orteus="true" visible="false"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr> 
                  <td>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.PS_PROP_LT">製品構成比例分リードタイム</span></td>
                  <td><orftextinput  name="Sub1_PS_PROP_LT" tablename="M_PS" columnname="PS_PROP_LT" dbtype="number" 
                       tablejname="製品構成" columnjname="製品構成比例分リードタイム" orteus="true" width="150" 
                       kind="OBT_INTEGER_Z;6"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr> 
                  <td>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.PS_PROP_LOT_SIZE">製品構成比例分ロットサイズ</span></td>
                  <td><orftextinput  name="Sub1_PS_PROP_LOT_SIZE" tablename="M_PS" columnname="PS_PROP_LOT_SIZE" dbtype="number" 
                       tablejname="製品構成" columnjname="製品構成比例分ロットサイズ" orteus="true" width="150" 
                       kind="OBT_NUMBER_P;14.1;FLOOR;4"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr> 
                  <td>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.COST_UP_TYP_2">原価積上有無</span></td>
                  <td><orfcombobox  name="Sub1_COST_UP_TYP" tablename="M_PS" columnname="COST_UP_TYP" dbtype="number" 
                       tablejname="製品構成" columnjname="原価積上区分" orteus="true" width="260"></orfcombobox></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr> 
                  <td>
                      <span orteus="true" mlang="true" mlkind="common" mlname="Expj.MRP_EXP_TYP_2">MRP展開有無</span></td>
                  <td><orfcombobox  name="Sub1_MRP_EXP_TYP" tablename="M_PS" columnname="MRP_EXP_TYP" dbtype="number" 
                       tablejname="製品構成" columnjname="所要量展開区分" orteus="true" width="260"></orfcombobox></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                </ornoloop> 
              </table>
            </td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr height="32"> 
            <td width="12" class="frame07" height="32"></td>
            <td width="664" class="frame08" height="32"></td>
            <td width="60" class="frame09" height="32"></td>
            <td width="210" class="frame10" height="32"> 
              <table orftype="DataGrid" mode="BUTTON" name="AA0130011button1" width="210" height="22" 
                   border="1" cellspacing="0" cellpadding="0">
                <orloophead> 
                <tr bgcolor="#ccff99"> 
                  <td width=105>&nbsp;</td>
                  <td width=105>&nbsp;</td>
                </tr>
                </orloophead><ornoloop> 
                <tr> 
                  <td><orfbutton name="Sub1Insert" value="登録" pattern="insert" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnInsert" width="100" height="" lock="1" attribute="" visible=""
 script1="onClick;0;CHK;_AA0130011form1/Sub1Parent_ITEM_CD[eq]_AA0130011form1/Sub1Comp_ITEM_CD@#AA00051"
 script2="onClick;1;CHK;_AA0130011form1/Sub1_EFF_PHASE_IN_DATE[gt]_AA0130011form1/Sub1_EFF_PHASE_OUT_DATE@#AA00048"
 script3="onClick;2;SCRCHG;_AA0130011form1/*@AA0130010Servlet,,$ZZ07001"
></orfbutton></td>
                  <td><orfbutton name="Sub1Update" value="更新" pattern="update" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnUpdate" width="100" height="" lock="1" attribute="" visible=""
 script1="onClick;0;CHK;_AA0130011form1/Sub1_EFF_PHASE_IN_DATE[gt]_AA0130011form1/Sub1_EFF_PHASE_OUT_DATE@#AA00048"
 script2="onClick;1;SCRCHG;_AA0130011form1/*@AA0130010Servlet,,$ZZ07003"
></orfbutton></td>
                </tr>
                </ornoloop> 
              </table>
            </td>
            <td width="12" class="frame11" height="32"></td>
          </tr>
        </table>
      </td>
      <td width="5" height="436"></td>
    </tr>
    <tr height="5"> 
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr height="42"> 
      <td colspan="3" width="968" height="42" class="under"> 
        <table width="968" border="0">
          <tr> 
            <td align="left" width="863"></td>
            <td align="right" width="105"> 
              <table orftype="DataGrid" mode="BUTTON" name="AA0130011button0" width="105" height="22" border="1" cellspacing="0" cellpadding="0">
                <orloophead> 
                <tr bgcolor="#ccff99"> 
                  <td width=105>&nbsp;</td>
                </tr>
                </orloophead><ornoloop> 
                <tr> 
                  <td><orfbutton  name="Sub1Return" value="戻る" pattern="none" orteus="true" mlang="true" mlkind="common" 
                       mlname="Expj.BtnReturn" width="100" 
                       script1="onClick;0;SCRCHG;_AA0130011form1/*@AA0130010Servlet,,$ZZ07013" lock="0"></orfbutton></td>
                </tr>
                </ornoloop> 
              </table>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

<%
  MessageStruct msgStruct = aAA0130010Control.getMsgStruct();
%>
<%@include file="common/SetServerMessage.jsp" %>
</body>
</html>

