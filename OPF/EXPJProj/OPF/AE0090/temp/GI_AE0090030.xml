<?xml version="1.0" encoding="UTF-8"?>
<proj><name>AE0090030</name><package>com.nec.jp.orteus.metamorBase.AE0090</package><jndi>com_nec_jp_orteus_metamorBase_AE0090</jndi><ctrls><comment></comment><ctrl><name>AE0090030</name><status>active</status><BaseClass>Servlet</BaseClass><define></define><WizType>0</WizType><mets><comment></comment><method><name>initialEvent</name><jname>初期処理</jname><description></description><BaseMethod>onClick</BaseMethod><define></define><event-type>none</event-type><event-options><comment></comment></event-options><args><comment>引数設定情報</comment><arg><name>arg 1</name><jname>ボタン名 (日本語、省略可)</jname><datatype>String</datatype><in>0</in><ismed>0</ismed><param>初期処理</param></arg><arg><name>arg 2</name><jname>ボタンＩＤ (必須)</jname><datatype>String</datatype><in>0</in><ismed>0</ismed><param>initialEvent</param></arg><arg><name>arg 3</name><jname>移動先JSP (省略可)</jname><datatype>String</datatype><in>0</in><ismed>0</ismed><param></param></arg></args><cells><comment>mediator情報</comment><arg><name>arg 1</name><datatype>String</datatype><in>out</in><ismed>1</ismed><param>PLANT_CD</param><format></format></arg><arg><name>arg 2</name><datatype>String</datatype><in>out</in><ismed>1</ismed><param>DOWNLOAD_FILE</param><format></format></arg></cells><entities><comment>エンティティ情報</comment><entity><description></description></entity></entities></method><method><name>CsvOut</name><jname>CSV出力</jname><description></description><BaseMethod>onClick</BaseMethod><define></define><event-type>none</event-type><event-options><comment></comment></event-options><args><comment>引数設定情報</comment><arg><name>arg 1</name><jname>ボタン名 (日本語、省略可)</jname><datatype>String</datatype><in>0</in><ismed>0</ismed><param>CSV出力</param></arg><arg><name>arg 2</name><jname>ボタンＩＤ (必須)</jname><datatype>String</datatype><in>0</in><ismed>0</ismed><param>CsvOut</param></arg><arg><name>arg 3</name><jname>移動先JSP (省略可)</jname><datatype>String</datatype><in>0</in><ismed>0</ismed><param></param></arg></args><cells><comment>mediator情報</comment><arg><name>arg 1</name><datatype>String</datatype><in>out</in><ismed>1</ismed><param>PLANT_CD</param><format></format></arg><arg><name>arg 2</name><datatype>String</datatype><in>out</in><ismed>1</ismed><param>DOWNLOAD_FILE</param><format></format></arg></cells><entities><comment>エンティティ情報</comment><entity><description></description></entity></entities></method><method><name>Clear</name><jname>クリア</jname><description></description><BaseMethod>onClick</BaseMethod><define></define><event-type>none</event-type><event-options><comment></comment></event-options><args><comment>引数設定情報</comment><arg><name>arg 1</name><jname>ボタン名 (日本語、省略可)</jname><datatype>String</datatype><in>0</in><ismed>0</ismed><param>クリア</param></arg><arg><name>arg 2</name><jname>ボタンＩＤ (必須)</jname><datatype>String</datatype><in>0</in><ismed>0</ismed><param>Clear</param></arg><arg><name>arg 3</name><jname>移動先JSP (省略可)</jname><datatype>String</datatype><in>0</in><ismed>0</ismed><param></param></arg></args><cells><comment>mediator情報</comment><arg><name>arg 1</name><datatype>String</datatype><in>out</in><ismed>1</ismed><param>PLANT_CD</param><format></format></arg><arg><name>arg 2</name><datatype>String</datatype><in>out</in><ismed>1</ismed><param>DOWNLOAD_FILE</param><format></format></arg></cells><entities><comment>エンティティ情報</comment><entity><description></description></entity></entities></method></mets></ctrl></ctrls><entities><comment></comment><entity><name>CsvOut</name><BaseClass>dbms</BaseClass><define></define><create><enable>false</enable><status>inactive</status></create><check><enable>false</enable><status>inactive</status></check><read><enable>true</enable><status>active</status><name>CsvOut</name><BaseClass>dbms</BaseClass><WizType>2</WizType><define></define><params><dsn>PDCONNECTOR</dsn><user>EXPJ</user><password>expj</password><JDBC>sun.jdbc.odbc.JdbcOdbcDriver</JDBC><jdbc_prefix>jdbc:odbc:</jdbc_prefix><useTransaction>false</useTransaction><sqlcmd>"Select "
+"  M_ITEM.ITEM_CD as \\"ITEM_CD\\", "
+"  M_ITEM.ITEM_NAME as \\"ITEM_NAME\\", "
+"  M_PLANT.PLANT_NAME as \\"PLANT_NAME\\", "
+"  M_ITEM.DRAW_CD as \\"DRAW_CD\\", "
+"  M_ITEM.SPEC as \\"SPEC\\", "
+"  to_char(M_ITEM.MRP_ODR_TYP) as \\"MRP_ODR_TYP\\", "
+"  M_ITEM.OUTSIDE_TYP as \\"OUTSIDE_TYP\\", "
+"  to_char(M_ITEM.\\"ODR_POINT\\", 'fm999999999999999990.0999') as \\"ODR_POINT\\", "
+"  to_char(M_ITEM.\\"FIXED_ODR_QTY\\", 'fm999999999999999990.0999') as \\"FIXED_ODR_QTY\\", "
+"  to_char(M_ITEM.\\"ODR_LT\\", 'fm999999999999999990.0999') as \\"ODR_LT\\", "
+"  to_char(M_ITEM.\\"FIXED_LT\\", 'fm999999999999999990.0999') as \\"FIXED_LT\\", "
+"  to_char(M_ITEM.\\"PROP_LT\\", 'fm999999999999999990.0999') as \\"PROP_LT\\", "
+"  to_char(M_ITEM.\\"PROP_LOT_SIZE\\", 'fm999999999999999990.0999') as \\"PROP_LOT_SIZE\\", "
+"  to_char(M_ITEM.\\"SAFETY_LT\\", 'fm999999999999999990.0999') as \\"SAFETY_LT\\", "
+"  to_char(NVL(T1.SUM_STOCK_ON_HAND_QTY1, 0), 'fm999999999999999990.0999') as SUM_STOCK_ON_HAND_QTY, "
+"  to_char(NVL(T3.SUM_ODR_QTY1, 0), 'fm999999999999999990.0999') as SUM_ODR_QTY, "
+"  to_char(NVL(T3.SUM_TOTAL_RCV_QTY1, 0), 'fm999999999999999990.0999') as SUM_TOTAL_RCV_QTY, "
+"  to_char(SYS_DATE_CTRL.\\"BUSINESS_OPR_DATE\\", 'YYYY/MM/DD') as \\"BUSINESS_OPR_DATE\\" "
+"From "
+"  M_ITEM, "
+"  M_PLANT, "
+"  SYS_DATE_CTRL, "
+"  ( "
+"    Select "
+"      T_ITEM_STOCK.ITEM_CD, "
+"      T_ITEM_STOCK.PLANT_CD, "
+"      NVL(Sum(T_ITEM_STOCK.STOCK_ON_HAND_QTY), 0) SUM_STOCK_ON_HAND_QTY1 "
+"    From "
+"      T_ITEM_STOCK "
+"    Group by "
+"      T_ITEM_STOCK.PLANT_CD, "
+"      T_ITEM_STOCK.ITEM_CD "
+"  ) T1, "
+"  ( "
+"    Select "
+"      ITEM_CD, "
+"      PLANT_CD, "
+"      NVL(SUM(ODR_QTY), 0) SUM_ODR_QTY1, "
+"      NVL(SUM(TOTAL_RCV_QTY), 0) SUM_TOTAL_RCV_QTY1 "
+"    From "
+"      T_OD "
+"    Where "
+"      T_OD.OD_TYP = 2 "
+"      AND T_OD.ODR_STS_TYP &lt;&gt; 9 "
+"    Group by "
+"      T_OD.PLANT_CD, "
+"      T_OD.ITEM_CD "
+"  ) T3 "
+"Where "
+"  M_ITEM.ITEM_CD = T1.ITEM_CD(+) "
+"  and M_ITEM.ITEM_CD = T3.ITEM_CD(+) "
+"  and M_ITEM.MRP_ODR_TYP = 7 "
+"  and(T1.PLANT_CD = ? "
+"  or  T1.PLANT_CD IS NULL) "
+"  and(T3.PLANT_CD = ? "
+"  or  T3.PLANT_CD IS NULL) "
+"  and(M_PLANT.PLANT_CD = ? "
+"  or  M_PLANT.PLANT_CD IS NULL) "
+"  and ? = SYS_DATE_CTRL.PLANT_CD "
+"  and(M_ITEM.ODR_POINT &gt;= NVL(T1.SUM_STOCK_ON_HAND_QTY1, 0) + NVL(T3.SUM_ODR_QTY1, 0) - NVL(T3.SUM_TOTAL_RCV_QTY1, 0))"</sqlcmd></params><props><comment></comment><property><name>ITEM_CD</name><no>1</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>ITEM_CD</columnname><med><cell><name>ITEM_CD</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>ITEM_NAME</name><no>2</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>ITEM_NAME</columnname><med><cell><name>ITEM_NAME</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>PLANT_NAME</name><no>3</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_PLANT</tablename><columnname>PLANT_NAME</columnname><med><cell><name>PLANT_NAME</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>DRAW_CD</name><no>4</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>DRAW_CD</columnname><med><cell><name>DRAW_CD</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>SPEC</name><no>5</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>SPEC</columnname><med><cell><name>SPEC</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>MRP_ODR_TYP</name><no>6</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>MRP_ODR_TYP</columnname><med><cell><name>MRP_ODR_TYP</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>OUTSIDE_TYP</name><no>7</no><datatype>NUMBER</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>OUTSIDE_TYP</columnname><med><cell><name>OUTSIDE_TYP</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>ODR_POINT</name><no>8</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>ODR_POINT</columnname><med><cell><name>ODR_POINT</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>FIXED_ODR_QTY</name><no>9</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>FIXED_ODR_QTY</columnname><med><cell><name>FIXED_ODR_QTY</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>ODR_LT</name><no>10</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>ODR_LT</columnname><med><cell><name>ODR_LT</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>FIXED_LT</name><no>11</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>FIXED_LT</columnname><med><cell><name>FIXED_LT</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>PROP_LT</name><no>12</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>PROP_LT</columnname><med><cell><name>PROP_LT</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>PROP_LOT_SIZE</name><no>13</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>PROP_LOT_SIZE</columnname><med><cell><name>PROP_LOT_SIZE</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>SAFETY_LT</name><no>14</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>M_ITEM</tablename><columnname>SAFETY_LT</columnname><med><cell><name>SAFETY_LT</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>SUM_STOCK_ON_HAND_QTY</name><no>15</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>T_ITEM_STOCK</tablename><columnname>STOCK_ON_HAND_QTY</columnname><med><cell><name>SUM_STOCK_ON_HAND_QTY</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>SUM_ODR_QTY</name><no>16</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>T_OD</tablename><columnname>ODR_QTY</columnname><med><cell><name>SUM_ODR_QTY</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>SUM_TOTAL_RCV_QTY</name><no>17</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>T_OD</tablename><columnname>TOTAL_RCV_QTY</columnname><med><cell><name>SUM_TOTAL_RCV_QTY</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>BUSINESS_OPR_DATE</name><no>18</no><datatype>VARCHAR2</datatype><inout>out</inout><phrase>select</phrase><tablename>SYS_DATE_CTRL</tablename><columnname>BUSINESS_OPR_DATE</columnname><med><cell><name>BUSINESS_OPR_DATE</name><type>in</type><datatype>String</datatype></cell></med></property><property><name>IN18</name><no>1</no><datatype>VARCHAR2</datatype><inout>in</inout><phrase>where</phrase><tablename>T_ITEM_STOCK</tablename><columnname>PLANT_CD</columnname><med><cell><name>PLANT_CD</name><type>out</type><datatype>String</datatype></cell></med></property><property><name>IN19</name><no>2</no><datatype>VARCHAR2</datatype><inout>in</inout><phrase>where</phrase><tablename>T_OD</tablename><columnname>PLANT_CD</columnname><med><cell><name>PLANT_CD</name><type>out</type><datatype>String</datatype></cell></med></property><property><name>IN20</name><no>3</no><datatype>VARCHAR2</datatype><inout>in</inout><phrase>where</phrase><tablename>M_PLANT</tablename><columnname>PLANT_CD</columnname><med><cell><name>PLANT_CD</name><type>out</type><datatype>String</datatype></cell></med></property><property><name>IN21</name><no>4</no><datatype>VARCHAR2</datatype><inout>in</inout><phrase>where</phrase><tablename>SYS_DATE_CTRL</tablename><columnname>PLANT_CD</columnname><med><cell><name>PLANT_CD</name><type>out</type><datatype>String</datatype></cell></med></property></props></read><update><enable>false</enable><status>inactive</status></update><delete><enable>false</enable><status>inactive</status></delete><call><enable>false</enable><status>inactive</status></call></entity></entities><med><comment></comment><cell><name>DOWNLOAD_FILE</name><datatype>String</datatype><kind>UI</kind><description></description></cell><cell><name>ITEM_CD</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>ITEM_NAME</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>PLANT_NAME</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>DRAW_CD</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>SPEC</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>MRP_ODR_TYP</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>OUTSIDE_TYP</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>ODR_POINT</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>FIXED_ODR_QTY</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>ODR_LT</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>FIXED_LT</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>PROP_LT</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>PROP_LOT_SIZE</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>SAFETY_LT</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>SUM_STOCK_ON_HAND_QTY</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>SUM_ODR_QTY</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>SUM_TOTAL_RCV_QTY</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>BUSINESS_OPR_DATE</name><datatype>String</datatype><kind>USER</kind><description></description></cell><cell><name>PLANT_CD</name><datatype>String</datatype><kind>UI</kind><description></description></cell></med></proj>
