<%-- ********************************************************
Copyright (c) 2003-2004 NEC Corporation
Copyright (c) 2003-2004 NEC Informatec Systems,Ltd.

EDI所要データ作成
$Source: D:/EXPJCVS/EXPJPROJ/expjprsaUV2/EXPJProj/OPF/AE0040/AE0040030.html,v $
$Author: geng-jia $
$Revision: 1.4 $　$Date: 2017/02/13 03:07:22 $
********************************************************* --%>
<html>
<head>
<title>EDI所要データ作成</title>
<%@include file="common/expj_v5.jsp" %>
</head>
<body flash="true" name="AE0040030" version="AE0040030 $Revision: 1.4 $" onLoad="onInitializeOnLoad()" bgcolor="#000000" topmargin="0" bottommargin="0" leftmargin="0" rightmargin="0" widthResize="true" heightResize="2">

  <table width="968" bgcolor="white" class="back" height="590" border="0" cellspacing="0" cellpadding="0">
    <tr height="5">
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr>
      <td width="5" height="186"></td>
      <td valign="top" width="958">
        <table width="958" border="0" cellspacing="0" cellpadding="0">
          <tr height="12">
            <td width="12" height="12" class="frame01"></td>
            <td colspan="3" height="12" class="frame02"></td>
            <td width="12" height="12" class="frame03"></td>
          </tr>
          <tr>
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05">
              <table orftype="DataGrid" name="AE0040030form1" width="934" height="142" mode="FORM" border="1" cellspacing="0" cellpadding="0"
                 status="<%= TypeConverter.sanitizer(aAE0040030Control.getReadStatusString()) %>"
                 script1="onLoad;0;CALL;onDecision@0,1,2,3"
                 script2="onDecision;0;CHK;_r1_FILTER1[eq]true@*0,*1"
                 script3="child;0;CHKRQ;A,B@*2,*3"
                 script4="child;1;CHKRQ;A,C@*2,*3"
                 script5="child;2;UNMASK;_AE0040030button1/Select"
                 script6="child;3;MASK;_AE0040030button1/Select"
                 script7="onDecision;1;CHKRQ;?AE0040030view1/?[neq]NOT_SELECTED@*4,*6"
                 script8="child;4;CHK;?PLANT_CD[eq]SAME[and]?r1_FILTER1[eq]SAME[and]?ODR_START_DATE[eq]SAME[and]?r2_FILTER1[eq]SAME[and]?PRD_DUE_DATE[eq]SAME[and]?JOB_ODR_CD[eq]SAME[and]?ITEM_CD[eq]SAME[and]?VEND_CD[eq]SAME[and]?AE0040030form1/*[eq]NORMAL@*5,*6"
                 script9="child;5;UNMASK;_AE0040030button2/Insert"
                 script10="child;6;MASK;_AE0040030button2/Insert"
                 script11="onDecision;2;CHK;?PLANT_CD[eq]SAME[and]?r1_FILTER1[eq]SAME[and]?ODR_START_DATE[eq]SAME[and]?r2_FILTER1[eq]SAME[and]?PRD_DUE_DATE[eq]SAME[and]?JOB_ODR_CD[eq]SAME[and]?ITEM_CD[eq]SAME[and]?VEND_CD[eq]SAME[and]?AE0040030form1/*[eq]NORMAL@*7,*8"
                 script12="child;7;UNMASK;_AE0040030button2/CheckAll,_AE0040030button2/UncheckAll"
                 script13="child;8;MASK;_AE0040030button2/CheckAll,_AE0040030button2/UncheckAll"
                 script14="onDecision;3;CHK;_r1_FILTER1[eq]true@*9,*11"
                 script15="child;9;UNMASK;_ODR_START_DATE,_CalendarOdrStartDate@*10"
                 script16="child;10;MASK;_PRD_DUE_DATE,_CalendarPrdDueDate"
                 script17="child;11;UNMASK;_PRD_DUE_DATE,_CalendarPrdDueDate@*12"
                 script18="child;12;MASK;_ODR_START_DATE,_CalendarOdrStartDate"
              >
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width="170" align="right">&nbsp;</td>
                  <td width="150">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="88">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="170">&nbsp;</td>
                  <td width="150">&nbsp;</td>
                  <td width="22">&nbsp;</td>
                  <td width="88">&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td required="true"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ISSUE_PLANT_CD">工場コード</span></td>
                  <td><orftextinput  name="PLANT_CD" tablename="T_OD" columnname="PLANT_CD" dbtype="varchar2" tablejname="所要量" columnjname="工場コード" orteus="true" width="260" required="A" maxlength="2"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orfpeeker  name="PeekerPlantCd" value="" pattern="select" orteus="false" width="22" attribute="BTS_PEEKER"
                     script1="onClick;0;PEEKER;_AE0040030form1/PLANT_CD@<%=contextNo%>"
                     sqlname="PLANT_CD_01" sqlparam_1="_PLANT_CD"
                  ></orfpeeker></td>
                  <td><orftextinput  name="PLANT_NAME" tablename="M_PLANT" columnname="PLANT_NAME" dbtype="varchar2" tablejname="工場" columnjname="工場名"   orteus="true" editable="false" width="320"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td required="true"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.PUCH_ODR_START_DATE_1">発注予定日</span></td>
                  <td><orftextinput  name="ODR_START_DATE" tablename="T_OD" columnname="ODR_START_DATE" dbtype="date" tablejname="所要量" columnjname="手配着手日" orteus="true" width="150" kind="OBT_DATE;TYPE_YMD" required="B"></orftextinput></td>
                  <td><orfcalendar  name="CalendarOdrStartDate" value="" pattern="none" orteus="false" width="22" attribute="BTS_CALENDAR"
                     script1="onClick;0;CALENDAR;_AE0040030form1/ODR_START_DATE"
                  ></orfcalendar></td>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0028">まで</span></td>
                  <td>&nbsp;</td>
                  <td><orfradiobutton  name="r1_FILTER1" orteus="true" value="true" group="FILTER1" text="発注予定日で絞り込む" mlang="true" mlkind="common" mlname="Expj.Cmt0502" width="190"
                     script1="onClick;0;SET;_PRD_DUE_DATE="
                  ></orfradiobutton></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td required="true"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.PRD_DUE_DATE_1">発注納期</span></td>
                  <td><orftextinput  name="PRD_DUE_DATE" tablename="T_OD" columnname="PRD_DUE_DATE" dbtype="date" tablejname="所要量" columnjname="製造納期" orteus="true" width="150" kind="OBT_DATE;TYPE_YMD" required="C"></orftextinput></td>
                  <td><orfcalendar  name="CalendarPrdDueDate" value="" pattern="none" orteus="false" width="22" attribute="BTS_CALENDAR"
                     script1="onClick;0;CALENDAR;_AE0040030form1/PRD_DUE_DATE"
                  ></orfcalendar></td>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0028">まで</span></td>
                  <td>&nbsp;</td>
                  <td><orfradiobutton  name="r2_FILTER1" orteus="true" value="true" group="FILTER1" text="発注納期で絞り込む" mlang="true" mlkind="common" mlname="Expj.Cmt0503" width="190"
                     script1="onClick;0;SET;_ODR_START_DATE="
                  ></orfradiobutton></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.JOB_ODR_CD">製番</span></td>
                  <td><orftextinput  name="JOB_ODR_CD" tablename="T_OD" columnname="JOB_ODR_CD" dbtype="varchar2" tablejname="所要量" columnjname="製番" orteus="true" kind="OBT_WILD" width="260" maxlength="25"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orfpeeker name="PeekerJOB_ODR_CD" value="" pattern="none" revokectrl="none" orteus="false" width="22" height="22" lock="0" attribute="BTS_PEEKER" visible="true" sqlname="JOB_ODR_CD_04" 
				  sqlparam_1="_AE0040030form1/PLANT_CD"
				  sqlparam_2="_AE0040030form1/JOB_ODR_CD"
				  sqlparam_4="_AE0040030form1/ITEM_CD"
 script1="onClick;0;PEEKER;_AE0040030form1/JOB_ODR_CD@<%=contextNo%>"
></orfpeeker></td>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.Cmt0002">（ワイルドカード指定可）</span></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_CD">品目番号</span></td>
                  <td><orftextinput  name="ITEM_CD" tablename="T_OD" columnname="ITEM_CD" dbtype="varchar2" tablejname="所要量" columnjname="品目番号" orteus="true" width="260" maxlength="25"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orfpeeker  name="PeekerVendCd" value="" pattern="select" orteus="false" width="22" attribute="BTS_PEEKER"
                     script1="onClick;0;PEEKER;_AE0040030form1/ITEM_CD@<%=contextNo%>"
                     sqlname="ITEM_CD_01" sqlparam_1="_ITEM_CD"
                  ></orfpeeker></td>
                  <td><orftextinput  name="ITEM_NAME" tablename="M_ITEM" columnname="ITEM_NAME" dbtype="varchar2" tablejname="品目" columnjname="品目名" orteus="true" editable="false" width="320"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                <tr>
                  <td><span orteus="true" mlang="true" mlkind="common" mlname="Expj.VEND_CD">取引先コード</span></td>
                  <td><orftextinput  name="VEND_CD" tablename="M_PUCH_UNIT_COST_H" columnname="VEND_CD" dbtype="varchar2" tablejname="購入単価ヘッダ" columnjname="取引先コード" orteus="true" width="260" maxlength="25"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td><orfpeeker  name="PeekerPuchOdrPerson" value="" pattern="select" orteus="false" width="22" attribute="BTS_PEEKER"
                     script1="onClick;0;PEEKER;_AE0040030form1/VEND_CD@<%=contextNo%>"
                     sqlname="VEND_CD_01" sqlparam_1="_VEND_CD"
                  ></orfpeeker></td>
                  <td><orftextinput  name="VEND_NAME" tablename="M_VEND_CTRL" columnname="VEND_NAME" dbtype="varchar2" tablejname="取引先マスタ" columnjname="取引先名称"   orteus="true" editable="false" width="320"></orftextinput></td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                </tr>
                </ornoloop>
              </table>
            </td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr>
            <td width="12" class="frame07" height="32"></td>
            <td width="769" class="frame08" height="32"></td>
            <td width="60" class="frame09" height="32"></td>
            <td width="105" class="frame10" height="32">
              <table orftype="DataGrid" name="AE0040030button1" width="105" height="22" mode="BUTTON" border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width="105">&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td><orfbutton name="Select" value="読込" pattern="select" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnSelect" width="100" height="" lock="0" attribute="" visible=""
 script1="onClick;0;SUBMIT;_AE0040030form1/*@AE0040030Servlet"
></orfbutton></td>
                </tr>
                </ornoloop>
              </table>
            </td>
            <td width="12" class="frame11"></td>
          </tr>
        </table>
      </td>
      <td width="5"></td>
    </tr>
    <tr>
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr>
      <td width="5"></td>
      <td valign="top" width="958" height="347">
        <table width="958" border="0" cellspacing="0" cellpadding="0">
          <tr height="12">
            <td width="12" height="12" class="frame01"></td>
            <td colspan="3" height="12" class="frame02"></td>
            <td width="12" height="12" class="frame03"></td>
          </tr>
          <tr>
            <td width="12" class="frame04"></td>
            <td colspan="3" class="frame05">
              <table orftype="DataGrid" name="AE0040030view1" width="934" height="303" mode="VIEW" border="1" cellspacing="0" cellpadding="0" attribute="DGS_SELECTMULTI">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td hidden="true">&nbsp;</td>
                  <td width="80"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.PUCH_ODR_START_DATE_1">発注予定日</span></td>
                  <td width="80"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.PRD_DUE_DATE_1">発注納期</span></td>
                  <td width="100"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.VEND_CD">取引先コード</span></td>
                  <td width="150"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.VEND_NAME">取引先名</span></td>
                  <td width="100"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_CD">品目番号</span></td>
                  <td width="150"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ITEM_NAME">品目名</span></td>
                  <td width="100" align="right" sorttype="numeric"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.ODR_QTY_2">計画数</span></td>
                  <td width="60"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.STOCK_UNIT_1">単位</span></td>
                  <td width="100"><span orteus="true" mlang="true" mlkind="common" mlname="Expj.JOB_ODR_CD">製番</span></td>
                  <td hidden="true">&nbsp;</td>
                </tr>
                </orloophead><orloop>
                <tr>
                  <td><orflabel  name="l_OD_NO" tablename="T_OD" columnname="OD_NO" dbtype="varchar2" tablejname="所要量" columnjname="オーダデマンド番号" orteus="true" visible="false"></orflabel></td>
                  <td><orflabel  name="l_ODR_START_DATE" tablename="T_OD" columnname="ODR_START_DATE" dbtype="date" tablejname="所要量" columnjname="手配着手日" orteus="true" kind="OBT_DATE;TYPE_YMD"></orflabel></td>
                  <td><orflabel  name="l_PRD_DUE_DATE" tablename="T_OD" columnname="PRD_DUE_DATE" dbtype="date" tablejname="所要量" columnjname="製造納期" orteus="true" kind="OBT_DATE;TYPE_YMD"></orflabel></td>
                  <td><orflabel  name="l_VEND_CD" tablename="M_PUCH_UNIT_COST_H" columnname="VEND_CD" dbtype="varchar2" tablejname="購入単価ヘッダ" columnjname="取引先コード" orteus="true"></orflabel></td>
                  <td><orflabel  name="l_VEND_ANAME" tablename="M_VEND_CTRL" columnname="VEND_ANAME" dbtype="varchar2" tablejname="取引先マスタ" columnjname="取引先略称"   orteus="true"></orflabel></td>
                  <td><orflabel  name="l_ITEM_CD" tablename="T_OD" columnname="ITEM_CD" dbtype="varchar2" tablejname="所要量" columnjname="品目番号" orteus="true"></orflabel></td>
                  <td><orflabel  name="l_ITEM_NAME" tablename="M_ITEM" columnname="ITEM_NAME" dbtype="varchar2" tablejname="品目" columnjname="品目名" orteus="true"></orflabel></td>
                  <td><orflabel  name="l_ODR_QTY" tablename="T_OD" columnname="ODR_QTY" dbtype="number" tablejname="所要量" columnjname="オーダ数" orteus="true" kind="OBT_NUMBER_P;14.1;FLOOR;4"></orflabel></td>
                  <td><orflabel  name="l_STOCK_UNIT" tablename="M_ITEM" columnname="STOCK_UNIT" dbtype="varchar2" tablejname="品目" columnjname="計量単位" orteus="true"></orflabel></td>
                  <td><orflabel  name="l_JOB_ODR_CD" tablename="T_OD" columnname="JOB_ODR_CD" dbtype="varchar2" tablejname="所要量" columnjname="製番" orteus="true"></orflabel></td>
                  <td><orflabel  name="l_MODIFY_COUNT" tablename="T_OD" columnname="MODIFY_COUNT" dbtype="number" tablejname="所要量" columnjname="更新回数" orteus="true" visible="false"></orflabel></td>
                </tr>
                </orloop>
              </table>
            </td>
            <td width="12" class="frame06"></td>
          </tr>
          <tr height="32">
            <td width="12" class="frame15" height="32"></td>
            <td width="315" class="frame10" height="32">
              <table orftype="DataGrid" name="AE0040030button2" width="315" height="22" mode="BUTTON" border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width="105">&nbsp;</td>
                  <td width="105">&nbsp;</td>
                  <td width="105">&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td><orfbutton name="Insert" value="選択登録" pattern="insert" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnInsertAssort" width="100" height="" lock="1" attribute="" visible=""
 script1="onClick;0;SUBMIT;_AE0040030form1/*,_AE0040030view1/+@AE0040030Servlet,,$ZZ07001"
></orfbutton></td>
                  <td><orfbutton name="CheckAll" value="全選択" pattern="none" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnCheckAll" width="100" height="" lock="1" attribute="" visible=""
 script1="onClick;0;DGSALL;AE0040030view1"
></orfbutton></td>
                  <td><orfbutton name="UncheckAll" value="全解除" pattern="none" revokeCtrl="disabled" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnCheckClear" width="100" height="" lock="1" attribute="" visible=""
 script1="onClick;0;DGSCANCEL;AE0040030view1"
></orfbutton></td>
                </tr>
                </ornoloop>
              </table>
            </td>
            <td width="60" class="frame16" height="32"></td>
            <td width="559" class="frame08" height="32"></td>
            <td width="12" class="frame17" height="32"></td>
          </tr>
        </table>
      </td>
      <td width="5"></td>
    </tr>
    <tr height="5">
      <td colspan="3" width="968" height="5"></td>
    </tr>
    <tr>
      <td colspan="3" width="968" height="42" class="under">
        <table width="968" border="0">
          <tr>
            <td align="left" width="748"></td>
            <td align="right" width="210">
              <table orftype="DataGrid" name="AE0040030button0" width="210" height="22" mode="BUTTON" border="1" cellspacing="0" cellpadding="0">
                <orloophead>
                <tr bgcolor="#ccff99">
                  <td width="105">&nbsp;</td>
                  <td width="105">&nbsp;</td>
                </tr>
                </orloophead><ornoloop>
                <tr>
                  <td><orfbutton  name="Clear" value="クリア" pattern="none" orteus="true" mlang="true" mlkind="common" mlname="Expj.BtnClear" width="100"
                     script1="onClick;0;SUBMIT;@AE0040030Servlet,,$ZZ07008"
                     lock="0"
                  ></orfbutton></td>
                  <td><orfbutton  name="Close" value="閉じる" pattern="none" orteus="false" mlang="true" mlkind="common" mlname="Expj.BtnClose" width="100"
                     script1="onClick;0;CLOSE"
                  ></orfbutton></td>
                </tr>
                </ornoloop>
              </table>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

<%
MessageStruct msgStruct = aAE0040030Control.getMsgStruct();
%>
<%@include file="common/SetServerMessage.jsp" %>
</body>
</html>
